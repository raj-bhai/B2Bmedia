(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{9299:function(module,__unused_webpack_exports,__webpack_require__){var process=__webpack_require__(3454),Buffer=__webpack_require__(1876).Buffer;!function(a,b){module.exports=b()}(this,function(){return function(a){var b={};function c(d){if(b[d])return b[d].exports;var e=b[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,c),e.l=!0,e.exports}return c.m=a,c.c=b,c.d=function(a,b,d){c.o(a,b)||Object.defineProperty(a,b,{enumerable:!0,get:d})},c.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},c.t=function(a,b){if(1&b&&(a=c(a)),8&b||4&b&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(c.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&b&&"string"!=typeof a)for(var e in a)c.d(d,e,(function(b){return a[b]}).bind(null,e));return d},c.n=function(a){var b=a&&a.__esModule?function(){return a.default}:function(){return a};return c.d(b,"a",b),b},c.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},c.p="",c(c.s=0)}([function(a,b,c){"use strict";var d=c(1),e=c(3),f=c(16),g=c(17),h=c(4),i=c(18);let j=c(10),k=c(6);{let{isNodeJS:l}=c(7);if(l){let m=c(19).PDFNodeStream;e.setPDFNetworkStreamFactory(a=>new m(a))}else{let n=c(22).PDFNetworkStream,o;h.isFetchSupported()&&(o=c(23).PDFFetchStream),e.setPDFNetworkStreamFactory(a=>o&&h.isValidFetchUrl(a.url)?new o(a):new n(a))}}b.build=e.build,b.version=e.version,b.getDocument=e.getDocument,b.LoopbackPort=e.LoopbackPort,b.PDFDataRangeTransport=e.PDFDataRangeTransport,b.PDFWorker=e.PDFWorker,b.renderTextLayer=f.renderTextLayer,b.AnnotationLayer=g.AnnotationLayer,b.createPromiseCapability=d.createPromiseCapability,b.PasswordResponses=d.PasswordResponses,b.InvalidPDFException=d.InvalidPDFException,b.MissingPDFException=d.MissingPDFException,b.SVGGraphics=i.SVGGraphics,b.NativeImageDecoding=d.NativeImageDecoding,b.CMapCompressionType=d.CMapCompressionType,b.PermissionFlag=d.PermissionFlag,b.UnexpectedResponseException=d.UnexpectedResponseException,b.OPS=d.OPS,b.VerbosityLevel=d.VerbosityLevel,b.UNSUPPORTED_FEATURES=d.UNSUPPORTED_FEATURES,b.createValidAbsoluteUrl=d.createValidAbsoluteUrl,b.createObjectURL=d.createObjectURL,b.removeNullCharacters=d.removeNullCharacters,b.shadow=d.shadow,b.Util=d.Util,b.RenderingCancelledException=h.RenderingCancelledException,b.getFilenameFromUrl=h.getFilenameFromUrl,b.LinkTarget=h.LinkTarget,b.addLinkAttributes=h.addLinkAttributes,b.loadScript=h.loadScript,b.PDFDateString=h.PDFDateString,b.GlobalWorkerOptions=j.GlobalWorkerOptions,b.apiCompatibilityParams=k.apiCompatibilityParams},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.arrayByteLength=V,b.arraysToBytes=W,b.assert=E,b.bytesToString=T,b.createPromiseCapability=am,b.getVerbosityLevel=A,b.info=B,b.isArrayBuffer=ak,b.isArrayEqual=al,b.isBool=ah,b.isEmptyObj=ag,b.isNum=ai,b.isString=aj,b.isSameOrigin=F,b.createValidAbsoluteUrl=H,b.removeNullCharacters=S,b.setVerbosityLevel=z,b.shadow=I,b.string32=X,b.stringToBytes=U,b.stringToPDFString=ad,b.stringToUTF8String=ae,b.utf8StringToString=af,b.warn=C,b.unreachable=D,b.IsEvalSupportedCached=b.IsLittleEndianCached=b.createObjectURL=b.FormatError=b.Util=b.UnknownErrorException=b.UnexpectedResponseException=b.TextRenderingMode=b.StreamType=b.PermissionFlag=b.PasswordResponses=b.PasswordException=b.NativeImageDecoding=b.MissingPDFException=b.InvalidPDFException=b.AbortException=b.CMapCompressionType=b.ImageKind=b.FontType=b.AnnotationType=b.AnnotationStateModelType=b.AnnotationReviewState=b.AnnotationReplyType=b.AnnotationMarkedState=b.AnnotationFlag=b.AnnotationFieldFlag=b.AnnotationBorderStyleType=b.UNSUPPORTED_FEATURES=b.VerbosityLevel=b.OPS=b.IDENTITY_MATRIX=b.FONT_IDENTITY_MATRIX=b.BaseException=void 0,c(2);let d=[1,0,0,1,0,0];b.IDENTITY_MATRIX=d;let e=[.001,0,0,.001,0,0];b.FONT_IDENTITY_MATRIX=e;let f={NONE:"none",DECODE:"decode",DISPLAY:"display"};b.NativeImageDecoding=f;let g={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};b.PermissionFlag=g;let h={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};b.TextRenderingMode=h;let i={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};b.ImageKind=i;let j={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};b.AnnotationType=j;let k={MARKED:"Marked",REVIEW:"Review"};b.AnnotationStateModelType=k;let l={MARKED:"Marked",UNMARKED:"Unmarked"};b.AnnotationMarkedState=l;let m={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};b.AnnotationReviewState=m;let n={GROUP:"Group",REPLY:"R"};b.AnnotationReplyType=n;let o={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};b.AnnotationFlag=o;let p={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};b.AnnotationFieldFlag=p;let q={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};b.AnnotationBorderStyleType=q;let r={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};b.StreamType=r;let s={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};b.FontType=s;let t={ERRORS:0,WARNINGS:1,INFOS:5};b.VerbosityLevel=t;let u={NONE:0,BINARY:1,STREAM:2};b.CMapCompressionType=u;let v={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};b.OPS=v;let w={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"};b.UNSUPPORTED_FEATURES=w;let x={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};b.PasswordResponses=x;let y=t.WARNINGS;function z(a){Number.isInteger(a)&&(y=a)}function A(){return y}function B(a){y>=t.INFOS&&console.log(`Info: ${a}`)}function C(a){y>=t.WARNINGS&&console.log(`Warning: ${a}`)}function D(a){throw Error(a)}function E(a,b){a||D(b)}function F(a,b){let c;try{if(!(c=new URL(a)).origin||"null"===c.origin)return!1}catch(d){return!1}let e=new URL(b,c);return c.origin===e.origin}function G(a){if(!a)return!1;switch(a.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function H(a,b){if(!a)return null;try{let c=b?new URL(a,b):new URL(a);if(G(c))return c}catch(d){}return null}function I(a,b,c){return Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!1}),c}let J=function(){function a(b){this.constructor===a&&D("Cannot initialize BaseException."),this.message=b,this.name=this.constructor.name}return a.prototype=Error(),a.constructor=a,a}();b.BaseException=J;class K extends J{constructor(a,b){super(a),this.code=b}}b.PasswordException=K;class L extends J{constructor(a,b){super(a),this.details=b}}b.UnknownErrorException=L;class M extends J{}b.InvalidPDFException=M;class N extends J{}b.MissingPDFException=N;class O extends J{constructor(a,b){super(a),this.status=b}}b.UnexpectedResponseException=O;class P extends J{}b.FormatError=P;class Q extends J{}b.AbortException=Q;let R=/\x00/g;function S(a){return"string"!=typeof a?(C("The argument for removeNullCharacters must be a string."),a):a.replace(R,"")}function T(a){E(null!==a&&"object"==typeof a&& void 0!==a.length,"Invalid argument for bytesToString");let b=a.length,c=8192;if(b<c)return String.fromCharCode.apply(null,a);let d=[];for(let e=0;e<b;e+=c){let f=Math.min(e+c,b),g=a.subarray(e,f);d.push(String.fromCharCode.apply(null,g))}return d.join("")}function U(a){E("string"==typeof a,"Invalid argument for stringToBytes");let b=a.length,c=new Uint8Array(b);for(let d=0;d<b;++d)c[d]=255&a.charCodeAt(d);return c}function V(a){return void 0!==a.length?a.length:(E(void 0!==a.byteLength),a.byteLength)}function W(a){let b=a.length;if(1===b&&a[0]instanceof Uint8Array)return a[0];let c=0;for(let d=0;d<b;d++)c+=V(a[d]);let e=0,f=new Uint8Array(c);for(let g=0;g<b;g++){let h=a[g];h instanceof Uint8Array||(h="string"==typeof h?U(h):new Uint8Array(h));let i=h.byteLength;f.set(h,e),e+=i}return f}function X(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a)}function Y(){let a=new Uint8Array(4);a[0]=1;let b=new Uint32Array(a.buffer,0,1);return 1===b[0]}let Z={get value(){return I(this,"value",Y())}};function $(){try{return Function(""),!0}catch(a){return!1}}b.IsLittleEndianCached=Z;let _={get value(){return I(this,"value",$())}};b.IsEvalSupportedCached=_;let aa=["rgb(",0,",",0,",",0,")"];class ab{static makeCssRgb(a,b,c){return aa[1]=a,aa[3]=b,aa[5]=c,aa.join("")}static transform(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]}static applyTransform(a,b){let c=a[0]*b[0]+a[1]*b[2]+b[4],d=a[0]*b[1]+a[1]*b[3]+b[5];return[c,d]}static applyInverseTransform(a,b){let c=b[0]*b[3]-b[1]*b[2],d=(a[0]*b[3]-a[1]*b[2]+b[2]*b[5]-b[4]*b[3])/c,e=(-a[0]*b[1]+a[1]*b[0]+b[4]*b[1]-b[5]*b[0])/c;return[d,e]}static getAxialAlignedBoundingBox(a,b){let c=ab.applyTransform(a,b),d=ab.applyTransform(a.slice(2,4),b),e=ab.applyTransform([a[0],a[3]],b),f=ab.applyTransform([a[2],a[1]],b);return[Math.min(c[0],d[0],e[0],f[0]),Math.min(c[1],d[1],e[1],f[1]),Math.max(c[0],d[0],e[0],f[0]),Math.max(c[1],d[1],e[1],f[1])]}static inverseTransform(a){let b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]}static apply3dTransform(a,b){return[a[0]*b[0]+a[1]*b[1]+a[2]*b[2],a[3]*b[0]+a[4]*b[1]+a[5]*b[2],a[6]*b[0]+a[7]*b[1]+a[8]*b[2]]}static singularValueDecompose2dScale(a){let b=[a[0],a[2],a[1],a[3]],c=a[0]*b[0]+a[1]*b[2],d=a[0]*b[1]+a[1]*b[3],e=a[2]*b[0]+a[3]*b[2],f=a[2]*b[1]+a[3]*b[3],g=(c+f)/2,h=Math.sqrt((c+f)*(c+f)-4*(c*f-e*d))/2,i=g+h||1,j=g-h||1;return[Math.sqrt(i),Math.sqrt(j)]}static normalizeRect(a){let b=a.slice(0);return a[0]>a[2]&&(b[0]=a[2],b[2]=a[0]),a[1]>a[3]&&(b[1]=a[3],b[3]=a[1]),b}static intersect(a,b){function c(a,b){return a-b}let d=[a[0],a[2],b[0],b[2]].sort(c),e=[a[1],a[3],b[1],b[3]].sort(c),f=[];return(a=ab.normalizeRect(a),b=ab.normalizeRect(b),(d[0]!==a[0]||d[1]!==b[0])&&(d[0]!==b[0]||d[1]!==a[0]))?null:(f[0]=d[1],f[2]=d[2],(e[0]!==a[1]||e[1]!==b[1])&&(e[0]!==b[1]||e[1]!==a[1]))?null:(f[1]=e[1],f[3]=e[2],f)}}b.Util=ab;let ac=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ad(a){let b=a.length,c=[];if("\xfe"===a[0]&&"\xff"===a[1])for(let d=2;d<b;d+=2)c.push(String.fromCharCode(a.charCodeAt(d)<<8|a.charCodeAt(d+1)));else if("\xff"===a[0]&&"\xfe"===a[1])for(let e=2;e<b;e+=2)c.push(String.fromCharCode(a.charCodeAt(e+1)<<8|a.charCodeAt(e)));else for(let f=0;f<b;++f){let g=ac[a.charCodeAt(f)];c.push(g?String.fromCharCode(g):a.charAt(f))}return c.join("")}function ae(a){return decodeURIComponent(escape(a))}function af(a){return unescape(encodeURIComponent(a))}function ag(a){for(let b in a)return!1;return!0}function ah(a){return"boolean"==typeof a}function ai(a){return"number"==typeof a}function aj(a){return"string"==typeof a}function ak(a){return"object"==typeof a&&null!==a&& void 0!==a.byteLength}function al(a,b){return a.length===b.length&&a.every(function(a,c){return a===b[c]})}function am(){let a=Object.create(null),b=!1;return Object.defineProperty(a,"settled",{get:()=>b}),a.promise=new Promise(function(c,d){a.resolve=function(a){b=!0,c(a)},a.reject=function(a){b=!0,d(a)}}),a}let an=function(){let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(b,c,d=!1){if(!d&&URL.createObjectURL){let e=new Blob([b],{type:c});return URL.createObjectURL(e)}let f=`data:${c};base64,`;for(let g=0,h=b.length;g<h;g+=3){let i=255&b[g],j=255&b[g+1],k=255&b[g+2],l=i>>2,m=(3&i)<<4|j>>4,n=g+1<h?(15&j)<<2|k>>6:64,o=g+2<h?63&k:64;f+=a[l]+a[m]+a[n]+a[o]}return f}}();b.createObjectURL=an},function(a,b,c){},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(4),_font_loader=__w_pdfjs_require__(5),_api_compatibility=__w_pdfjs_require__(6),_canvas=__w_pdfjs_require__(8),_worker_options=__w_pdfjs_require__(10),_is_node=__w_pdfjs_require__(7),_message_handler=__w_pdfjs_require__(11),_metadata=__w_pdfjs_require__(12),_transport_stream=__w_pdfjs_require__(14),_webgl=__w_pdfjs_require__(15);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,createPDFNetworkStream;function setPDFNetworkStreamFactory(a){createPDFNetworkStream=a}function getDocument(a){let b=new PDFDocumentLoadingTask,c;if("string"==typeof a)c={url:a};else if((0,_util.isArrayBuffer)(a))c={data:a};else if(a instanceof PDFDataRangeTransport)c={range:a};else{if("object"!=typeof a)throw Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!a.url&&!a.data&&!a.range)throw Error("Invalid parameter object: need either .data, .range or .url");c=a}let d=Object.create(null),e=null,f=null;for(let g in c){if("url"===g&&"undefined"!=typeof window){d[g]=new URL(c[g],window.location).href;continue}if("range"===g){e=c[g];continue}if("worker"===g){f=c[g];continue}else if("data"===g&&!(c[g]instanceof Uint8Array)){let h=c[g];if("string"==typeof h)d[g]=(0,_util.stringToBytes)(h);else if("object"!=typeof h||null===h||isNaN(h.length)){if((0,_util.isArrayBuffer)(h))d[g]=new Uint8Array(h);else throw Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.")}else d[g]=new Uint8Array(h);continue}d[g]=c[g]}d.rangeChunkSize=d.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,d.CMapReaderFactory=d.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,d.ignoreErrors=!0!==d.stopAtErrors,d.pdfBug=!0===d.pdfBug;let i=Object.values(_util.NativeImageDecoding);if(void 0!==d.nativeImageDecoderSupport&&i.includes(d.nativeImageDecoderSupport)||(d.nativeImageDecoderSupport=_api_compatibility.apiCompatibilityParams.nativeImageDecoderSupport||_util.NativeImageDecoding.DECODE),Number.isInteger(d.maxImageSize)||(d.maxImageSize=-1),"boolean"!=typeof d.isEvalSupported&&(d.isEvalSupported=!0),"boolean"!=typeof d.disableFontFace&&(d.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof d.disableRange&&(d.disableRange=!1),"boolean"!=typeof d.disableStream&&(d.disableStream=!1),"boolean"!=typeof d.disableAutoFetch&&(d.disableAutoFetch=!1),"boolean"!=typeof d.disableCreateObjectURL&&(d.disableCreateObjectURL=_api_compatibility.apiCompatibilityParams.disableCreateObjectURL||!1),(0,_util.setVerbosityLevel)(d.verbosity),!f){let j={verbosity:d.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};f=j.port?PDFWorker.fromPort(j):new PDFWorker(j),b._worker=f}let k=b.docId;return f.promise.then(function(){if(b.destroyed)throw Error("Loading aborted");return _fetchDocument(f,d,e,k).then(function(a){if(b.destroyed)throw Error("Loading aborted");let c;e?c=new _transport_stream.PDFDataTransportStream({length:d.length,initialData:d.initialData,progressiveDone:d.progressiveDone,disableRange:d.disableRange,disableStream:d.disableStream},e):d.data||(c=createPDFNetworkStream({url:d.url,length:d.length,httpHeaders:d.httpHeaders,withCredentials:d.withCredentials,rangeChunkSize:d.rangeChunkSize,disableRange:d.disableRange,disableStream:d.disableStream}));let g=new _message_handler.MessageHandler(k,a,f.port);g.postMessageTransfers=f.postMessageTransfers;let h=new WorkerTransport(g,b,c,d);b._transport=h,g.send("Ready",null)})}).catch(b._capability.reject),b}function _fetchDocument(a,b,c,d){return a.destroyed?Promise.reject(Error("Worker was destroyed")):(c&&(b.length=c.length,b.initialData=c.initialData,b.progressiveDone=c.progressiveDone),a.messageHandler.sendWithPromise("GetDocRequest",{docId:d,apiVersion:"2.4.456",source:{data:b.data,url:b.url,password:b.password,disableAutoFetch:b.disableAutoFetch,rangeChunkSize:b.rangeChunkSize,length:b.length},maxImageSize:b.maxImageSize,disableFontFace:b.disableFontFace,disableCreateObjectURL:b.disableCreateObjectURL,postMessageTransfers:a.postMessageTransfers,docBaseUrl:b.docBaseUrl,nativeImageDecoderSupport:b.nativeImageDecoderSupport,ignoreErrors:b.ignoreErrors,isEvalSupported:b.isEvalSupported}).then(function(b){if(a.destroyed)throw Error("Worker was destroyed");return b}))}let PDFDocumentLoadingTask=function(){let a=0;class b{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+a++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){this.destroyed=!0;let a=this._transport?this._transport.destroy():Promise.resolve();return a.then(()=>{this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}then(a,b){throw Error("Removed API method: PDFDocumentLoadingTask.then, use the `promise` getter instead.")}}return b}();class PDFDataRangeTransport{constructor(a,b,c=!1){this.length=a,this.initialData=b,this.progressiveDone=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(a){this._rangeListeners.push(a)}addProgressListener(a){this._progressListeners.push(a)}addProgressiveReadListener(a){this._progressiveReadListeners.push(a)}addProgressiveDoneListener(a){this._progressiveDoneListeners.push(a)}onDataRange(a,b){for(let c of this._rangeListeners)c(a,b)}onDataProgress(a,b){this._readyCapability.promise.then(()=>{for(let c of this._progressListeners)c(a,b)})}onDataProgressiveRead(a){this._readyCapability.promise.then(()=>{for(let b of this._progressiveReadListeners)b(a)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let a of this._progressiveDoneListeners)a()})}transportReady(){this._readyCapability.resolve()}requestDataRange(a,b){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(a,b){this._pdfInfo=a,this._transport=b}get numPages(){return this._pdfInfo.numPages}get fingerprint(){return this._pdfInfo.fingerprint}getPage(a){return this._transport.getPage(a)}getPageIndex(a){return this._transport.getPageIndex(a)}getDestinations(){return this._transport.getDestinations()}getDestination(a){return this._transport.getDestination(a)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getOpenActionDestination(){return(0,_display_utils.deprecated)("getOpenActionDestination, use getOpenAction instead."),this.getOpenAction().then(function(a){return a&&a.dest?a.dest:null})}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getOutline(){return this._transport.getOutline()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}getStats(){return this._transport.getStats()}cleanup(){return this._transport.startCleanup()}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(a,b,c,d=!1){this._pageIndex=a,this._pageInfo=b,this._transport=c,this._stats=d?new _display_utils.StatTimer:null,this._pdfBug=d,this.commonObjs=c.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:a,rotation:b=this.rotate,offsetX:c=0,offsetY:d=0,dontFlip:e=!1}={}){if(arguments.length>1||"number"==typeof arguments[0])throw Error("PDFPageProxy.getViewport is called with obsolete arguments.");return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:b,offsetX:c,offsetY:d,dontFlip:e})}getAnnotations({intent:a=null}={}){return this.annotationsPromise&&this.annotationsIntent===a||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,a),this.annotationsIntent=a),this.annotationsPromise}render({canvasContext:a,viewport:b,intent:c="display",enableWebGL:d=!1,renderInteractiveForms:e=!1,transform:f=null,imageLayer:g=null,canvasFactory:h=null,background:i=null}){this._stats&&this._stats.time("Overall");let j="print"===c?"print":"display";this.pendingCleanup=!1,this.intentStates[j]||(this.intentStates[j]=Object.create(null));let k=this.intentStates[j];k.streamReaderCancelTimeout&&(clearTimeout(k.streamReaderCancelTimeout),k.streamReaderCancelTimeout=null);let l=h||new _display_utils.DOMCanvasFactory,m=new _webgl.WebGLContext({enable:d});k.displayReadyCapability||(k.displayReadyCapability=(0,_util.createPromiseCapability)(),k.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:j,renderInteractiveForms:!0===e}));let n=a=>{let b=k.renderTasks.indexOf(o);b>=0&&k.renderTasks.splice(b,1),(this.cleanupAfterRender||"print"===j)&&(this.pendingCleanup=!0),this._tryCleanup(),a?(o.capability.reject(a),this._abortOperatorList({intentState:k,reason:a})):o.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},o=new InternalRenderTask({callback:n,params:{canvasContext:a,viewport:b,transform:f,imageLayer:g,background:i},objs:this.objs,commonObjs:this.commonObjs,operatorList:k.operatorList,pageIndex:this._pageIndex,canvasFactory:l,webGLContext:m,useRequestAnimationFrame:"print"!==j,pdfBug:this._pdfBug});k.renderTasks||(k.renderTasks=[]),k.renderTasks.push(o);let p=o.task;return k.displayReadyCapability.promise.then(a=>{if(this.pendingCleanup){n();return}this._stats&&this._stats.time("Rendering"),o.initializeGraphics(a),o.operatorListChanged()}).catch(n),p}getOperatorList(){function a(){if(c.operatorList.lastChunk){c.opListReadCapability.resolve(c.operatorList);let a=c.renderTasks.indexOf(d);a>=0&&c.renderTasks.splice(a,1)}}let b="oplist";this.intentStates[b]||(this.intentStates[b]=Object.create(null));let c=this.intentStates[b],d;return c.opListReadCapability||((d={}).operatorListChanged=a,c.opListReadCapability=(0,_util.createPromiseCapability)(),c.renderTasks=[],c.renderTasks.push(d),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:b})),c.opListReadCapability.promise}streamTextContent({normalizeWhitespace:a=!1,disableCombineTextItems:b=!1}={}){let c=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===a,combineTextItems:!0!==b},{highWaterMark:c,size:a=>a.items.length})}getTextContent(a={}){let b=this.streamTextContent(a);return new Promise(function(a,c){function d(){e.read().then(function({value:b,done:c}){if(c){a(f);return}Object.assign(f.styles,b.styles),f.items.push(...b.items),d()},c)}let e=b.getReader(),f={items:[],styles:Object.create(null)};d()})}_destroy(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;let a=[];return Object.keys(this.intentStates).forEach(b=>{let c=this.intentStates[b];this._abortOperatorList({intentState:c,reason:Error("Page was destroyed."),force:!0}),"oplist"!==b&&c.renderTasks.forEach(function(b){let c=b.capability.promise.catch(function(){});a.push(c),b.cancel()})}),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(a)}cleanup(a=!1){return this.pendingCleanup=!0,this._tryCleanup(a)}_tryCleanup(a=!1){return!(!this.pendingCleanup||Object.keys(this.intentStates).some(a=>{let b=this.intentStates[a];return 0!==b.renderTasks.length||!b.operatorList.lastChunk}))&&(Object.keys(this.intentStates).forEach(a=>{delete this.intentStates[a]}),this.objs.clear(),this.annotationsPromise=null,a&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0)}_startRenderPage(a,b){let c=this.intentStates[b];c&&(this._stats&&this._stats.timeEnd("Page Request"),c.displayReadyCapability&&c.displayReadyCapability.resolve(a))}_renderPageChunk(a,b){for(let c=0,d=a.length;c<d;c++)b.operatorList.fnArray.push(a.fnArray[c]),b.operatorList.argsArray.push(a.argsArray[c]);b.operatorList.lastChunk=a.lastChunk;for(let e=0;e<b.renderTasks.length;e++)b.renderTasks[e].operatorListChanged();a.lastChunk&&this._tryCleanup()}_pumpOperatorList(a){(0,_util.assert)(a.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');let b=this._transport.messageHandler.sendWithStream("GetOperatorList",a),c=b.getReader(),d=this.intentStates[a.intent];d.streamReader=c;let e=()=>{c.read().then(({value:a,done:b})=>{if(b){d.streamReader=null;return}!this._transport.destroyed&&(this._renderPageChunk(a,d),e())},a=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(let b=0;b<d.renderTasks.length;b++)d.renderTasks[b].operatorListChanged();this._tryCleanup()}if(d.displayReadyCapability)d.displayReadyCapability.reject(a);else if(d.opListReadCapability)d.opListReadCapability.reject(a);else throw a}})};e()}_abortOperatorList({intentState:a,reason:b,force:c=!1}){if((0,_util.assert)(b instanceof Error||"object"==typeof b&&null!==b,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),a.streamReader){if(!c){if(0!==a.renderTasks.length)return;if(b instanceof _display_utils.RenderingCancelledException){a.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:a,reason:b,force:!0}),a.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}a.streamReader.cancel(new _util.AbortException(b&&b.message)),a.streamReader=null,!this._transport.destroyed&&(Object.keys(this.intentStates).some(b=>this.intentStates[b]===a&&(delete this.intentStates[b],!0)),this.cleanup())}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(a=!0){this._listeners=[],this._defer=a,this._deferred=Promise.resolve(void 0)}postMessage(a,b){function c(a){if("object"!=typeof a||null===a)return a;if(d.has(a))return d.get(a);let e,f;if((e=a.buffer)&&(0,_util.isArrayBuffer)(e)){let g=b&&b.includes(e);return f=g?new a.constructor(e,a.byteOffset,a.byteLength):new a.constructor(a),d.set(a,f),f}for(let h in f=Array.isArray(a)?[]:{},d.set(a,f),a){let i,j=a;for(;!(i=Object.getOwnPropertyDescriptor(j,h));)j=Object.getPrototypeOf(j);if(void 0!==i.value){if("function"==typeof i.value){if(a.hasOwnProperty&&a.hasOwnProperty(h))throw Error(`LoopbackPort.postMessage - cannot clone: ${a[h]}`);continue}f[h]=c(i.value)}}return f}if(!this._defer){this._listeners.forEach(b=>{b.call(this,{data:a})});return}let d=new WeakMap,e={data:c(a)};this._deferred.then(()=>{this._listeners.forEach(a=>{a.call(this,e)})})}addEventListener(a,b){this._listeners.push(b)}removeEventListener(a,b){let c=this._listeners.indexOf(b);this._listeners.splice(c,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;let PDFWorker=function PDFWorkerClosure(){let pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document&&"currentScript"in document){let pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){let a;try{a=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(b){}return a||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();let loader=async function(){let mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){let worker=eval("require")(getWorkerSrc());return worker.WorkerMessageHandler}return await (0,_display_utils.loadScript)(getWorkerSrc()),window.pdfjsWorker.WorkerMessageHandler};return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(a){let b="importScripts('"+a+"');";return URL.createObjectURL(new Blob([b]))}class PDFWorker{constructor({name:a=null,port:b=null,verbosity:c=(0,_util.getVerbosityLevel)()}={}){if(b&&pdfWorkerPorts.has(b))throw Error("Cannot use more than one PDFWorker per port");if(this.name=a,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=c,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,b){pdfWorkerPorts.set(b,this),this._initializeFromPort(b);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(a){this._port=a,this._messageHandler=new _message_handler.MessageHandler("main","worker",a),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){let a=getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,a)||(a=createCDNWrapper(new URL(a,window.location).href));let b=new Worker(a),c=new _message_handler.MessageHandler("main","worker",b),d=()=>{b.removeEventListener("error",e),c.destroy(),b.terminate(),this.destroyed?this._readyCapability.reject(Error("Worker was destroyed")):this._setupFakeWorker()},e=()=>{this._webWorker||d()};b.addEventListener("error",e),c.on("test",a=>{if(b.removeEventListener("error",e),this.destroyed){d();return}a?(this._messageHandler=c,this._port=b,this._webWorker=b,a.supportTransfers||(this.postMessageTransfers=!1),this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),c.destroy(),b.terminate())}),c.on("ready",a=>{if(b.removeEventListener("error",e),this.destroyed){d();return}try{f()}catch(c){this._setupFakeWorker()}});let f=()=>{let a=new Uint8Array([this.postMessageTransfers?255:0]);try{c.send("test",a,[a.buffer])}catch(b){(0,_util.warn)("Cannot use postMessage transfers."),a[0]=0,c.send("test",a)}};f();return}catch(g){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(a=>{if(this.destroyed){this._readyCapability.reject(Error("Worker was destroyed"));return}let b=new LoopbackPort;this._port=b;let c="fake"+nextFakeWorkerId++,d=new _message_handler.MessageHandler(c+"_worker",c,b);a.setup(d,b);let e=new _message_handler.MessageHandler(c,c+"_worker",b);this._messageHandler=e,this._readyCapability.resolve(),e.send("configure",{verbosity:this.verbosity})}).catch(a=>{this._readyCapability.reject(Error(`Setting up fake worker failed: "${a.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(a){if(!a||!a.port)throw Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(a.port)?pdfWorkerPorts.get(a.port):new PDFWorker(a)}static getWorkerSrc(){return getWorkerSrc()}}return PDFWorker}();exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(a,b,c,d){this.messageHandler=a,this.loadingTask=b,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:b.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this)}),this._params=d,this.CMapReaderFactory=new d.CMapReaderFactory({baseUrl:d.cMapUrl,isCompressed:d.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=c,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(Error("Worker was destroyed during onPassword callback"));let a=[];this.pageCache.forEach(function(b){b&&a.push(b._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;let b=this.messageHandler.sendWithPromise("Terminate",null);return a.push(b),Promise.all(a).then(()=>{this.fontLoader.clear(),this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:a,loadingTask:b}=this;a.on("GetReader",(a,b)=>{(0,_util.assert)(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},b.onPull=()=>{this._fullReader.read().then(function({value:a,done:c}){if(c){b.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(a)),b.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{b.error(a)})},b.onCancel=a=>{this._fullReader.cancel(a)}}),a.on("ReaderHeadersReady",a=>{let c=(0,_util.createPromiseCapability)(),d=this._fullReader;return d.headersReady.then(()=>{d.isStreamingSupported&&d.isRangeSupported||(this._lastProgress&&b.onProgress&&b.onProgress(this._lastProgress),d.onProgress=a=>{b.onProgress&&b.onProgress({loaded:a.loaded,total:a.total})}),c.resolve({isStreamingSupported:d.isStreamingSupported,isRangeSupported:d.isRangeSupported,contentLength:d.contentLength})},c.reject),c.promise}),a.on("GetRangeReader",(a,b)=>{(0,_util.assert)(this._networkStream);let c=this._networkStream.getRangeReader(a.begin,a.end);if(!c){b.close();return}b.onPull=()=>{c.read().then(function({value:a,done:c}){if(c){b.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(a)),b.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{b.error(a)})},b.onCancel=a=>{c.cancel(a)}}),a.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,b._capability.resolve(new PDFDocumentProxy(a,this))}),a.on("DocException",function(a){let c;switch(a.name){case"PasswordException":c=new _util.PasswordException(a.message,a.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(a.message);break;case"MissingPDFException":c=new _util.MissingPDFException(a.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(a.message,a.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(a.message,a.details)}b._capability.reject(c)}),a.on("PasswordRequest",a=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),b.onPassword){let c=a=>{this._passwordCapability.resolve({password:a})};try{b.onPassword(c,a.code)}catch(d){this._passwordCapability.reject(d)}}else this._passwordCapability.reject(new _util.PasswordException(a.message,a.code));return this._passwordCapability.promise}),a.on("DataLoaded",a=>{b.onProgress&&b.onProgress({loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),a.on("StartRenderPage",a=>{if(this.destroyed)return;let b=this.pageCache[a.pageIndex];b._startRenderPage(a.transparency,a.intent)}),a.on("commonobj",b=>{if(this.destroyed)return;let[c,d,e]=b;if(!this.commonObjs.has(c))switch(d){case"Font":let f=this._params;if("error"in e){let g=e.error;(0,_util.warn)(`Error during font loading: ${g}`),this.commonObjs.resolve(c,g);break}let h=null;f.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(h={registerFont(a,b){globalThis.FontInspector.fontAdded(a,b)}});let i=new _font_loader.FontFaceObject(e,{isEvalSupported:f.isEvalSupported,disableFontFace:f.disableFontFace,ignoreErrors:f.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:h});this.fontLoader.bind(i).then(()=>{this.commonObjs.resolve(c,i)},b=>{a.sendWithPromise("FontFallback",{id:c}).finally(()=>{this.commonObjs.resolve(c,i)})});break;case"FontPath":case"FontType3Res":this.commonObjs.resolve(c,e);break;default:throw Error(`Got unknown common object type ${d}`)}}),a.on("obj",a=>{if(this.destroyed)return;let[b,c,d,e]=a,f=this.pageCache[c];if(!f.objs.has(b))switch(d){case"JpegStream":return new Promise((a,b)=>{let c=new Image;c.onload=function(){a(c)},c.onerror=function(){b(Error("Error during JPEG image loading")),(0,_display_utils.releaseImageResources)(c)},c.src=e}).then(a=>{f.objs.resolve(b,a)});case"Image":f.objs.resolve(b,e);let g=8e6;e&&"data"in e&&e.data.length>g&&(f.cleanupAfterRender=!0);break;default:throw Error(`Got unknown object type ${d}`)}}),a.on("DocProgress",a=>{!this.destroyed&&b.onProgress&&b.onProgress({loaded:a.loaded,total:a.total})}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("JpegDecode",a=>{if(this.destroyed)return Promise.reject(Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(Error('"document" is not defined.'));let[b,c]=a;return 3!==c&&1!==c?Promise.reject(Error("Only 3 components or 1 component can be returned")):new Promise(function(a,d){let e=new Image;e.onload=function(){let{width:b,height:d}=e,f=b*d,g=4*f,h=new Uint8ClampedArray(f*c),i=document.createElement("canvas");i.width=b,i.height=d;let j=i.getContext("2d");j.drawImage(e,0,0);let k=j.getImageData(0,0,b,d).data;if(3===c)for(let l=0,m=0;l<g;l+=4,m+=3)h[m]=k[l],h[m+1]=k[l+1],h[m+2]=k[l+2];else if(1===c)for(let n=0,o=0;n<g;n+=4,o++)h[o]=k[n];a({data:h,width:b,height:d}),(0,_display_utils.releaseImageResources)(e),i.width=0,i.height=0,i=null,j=null},e.onerror=function(){d(Error("JpegDecode failed to load image")),(0,_display_utils.releaseImageResources)(e)},e.src=b})}),a.on("FetchBuiltInCMap",(a,b)=>{if(this.destroyed){b.error(Error("Worker was destroyed"));return}let c=!1;b.onPull=()=>{if(c){b.close();return}c=!0,this.CMapReaderFactory.fetch(a).then(function(a){b.enqueue(a,1,[a.cMapData.buffer])}).catch(function(a){b.error(a)})}})}_onUnsupportedFeature({featureId:a}){!this.destroyed&&this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(a)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(a){if(!Number.isInteger(a)||a<=0||a>this._numPages)return Promise.reject(Error("Invalid page request"));let b=a-1;if(b in this.pagePromises)return this.pagePromises[b];let c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:b}).then(a=>{if(this.destroyed)throw Error("Transport destroyed");let c=new PDFPageProxy(b,a,this,this._params.pdfBug);return this.pageCache[b]=c,c});return this.pagePromises[b]=c,c}getPageIndex(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a}).catch(function(a){return Promise.reject(Error(a))})}getAnnotations(a,b){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a,intent:b})}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(a){return"string"!=typeof a?Promise.reject(Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:a})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(a=>({info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:this._fullReader?this._fullReader.filename:null}))}getStats(){return this.messageHandler.sendWithPromise("GetStats",null)}startCleanup(){return this.messageHandler.sendWithPromise("Cleanup",null).then(()=>{for(let a=0,b=this.pageCache.length;a<b;a++){let c=this.pageCache[a];if(c){let d=c.cleanup();if(!d)throw Error(`startCleanup: Page ${a+1} is currently rendering.`)}}this.commonObjs.clear(),this.fontLoader.clear()})}get loadingParams(){let a=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:a.disableAutoFetch,disableCreateObjectURL:a.disableCreateObjectURL,disableFontFace:a.disableFontFace,nativeImageDecoderSupport:a.nativeImageDecoderSupport})}}class PDFObjects{constructor(){this._objs=Object.create(null)}_ensureObj(a){return this._objs[a]?this._objs[a]:this._objs[a]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}get(a,b=null){if(b)return this._ensureObj(a).capability.promise.then(b),null;let c=this._objs[a];if(!c||!c.resolved)throw Error(`Requesting object that isn't resolved yet ${a}.`);return c.data}has(a){let b=this._objs[a];return!!b&&b.resolved}resolve(a,b){let c=this._ensureObj(a);c.resolved=!0,c.data=b,c.capability.resolve(b)}clear(){for(let a in this._objs){let{data:b}=this._objs[a];"undefined"!=typeof Image&&b instanceof Image&&(0,_display_utils.releaseImageResources)(b)}this._objs=Object.create(null)}}class RenderTask{constructor(a){this._internalRenderTask=a,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}then(a,b){throw Error("Removed API method: RenderTask.then, use the `promise` getter instead.")}}let InternalRenderTask=function(){let a=new WeakSet;class b{constructor({callback:a,params:b,objs:c,commonObjs:d,operatorList:e,pageIndex:f,canvasFactory:g,webGLContext:h,useRequestAnimationFrame:i=!1,pdfBug:j=!1}){this.callback=a,this.params=b,this.objs=c,this.commonObjs=d,this.operatorListIdx=null,this.operatorList=e,this._pageIndex=f,this.canvasFactory=g,this.webGLContext=h,this._pdfBug=j,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===i&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=b.canvasContext.canvas}initializeGraphics(b=!1){if(this.cancelled)return;if(this._canvas){if(a.has(this._canvas))throw Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");a.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:c,viewport:d,transform:e,imageLayer:f,background:g}=this.params;this.gfx=new _canvas.CanvasGraphics(c,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,f),this.gfx.beginDrawing({transform:e,viewport:d,transparency:b,background:g}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(b=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&a.delete(this._canvas),this.callback(b||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this.cancel.bind(this))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}async _next(){!this.cancelled&&(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&a.delete(this._canvas),this.callback())))}}return b}(),version="2.4.456";exports.version=version;let build="228a591c";exports.build=build},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.addLinkAttributes=m,b.getFilenameFromUrl=n,b.isFetchSupported=p,b.isValidFetchUrl=q,b.loadScript=r,b.deprecated=s,b.releaseImageResources=t,b.PDFDateString=b.StatTimer=b.DOMSVGFactory=b.DOMCMapReaderFactory=b.DOMCanvasFactory=b.DEFAULT_LINK_REL=b.LinkTarget=b.RenderingCancelledException=b.PageViewport=void 0;var d=c(1);let e="noopener noreferrer nofollow";b.DEFAULT_LINK_REL=e;let f="http://www.w3.org/2000/svg";class g{create(a,b){if(a<=0||b<=0)throw Error("Invalid canvas size");let c=document.createElement("canvas"),d=c.getContext("2d");return c.width=a,c.height=b,{canvas:c,context:d}}reset(a,b,c){if(!a.canvas)throw Error("Canvas is not specified");if(b<=0||c<=0)throw Error("Invalid canvas size");a.canvas.width=b,a.canvas.height=c}destroy(a){if(!a.canvas)throw Error("Canvas is not specified");a.canvas.width=0,a.canvas.height=0,a.canvas=null,a.context=null}}b.DOMCanvasFactory=g;class h{constructor({baseUrl:a=null,isCompressed:b=!1}){this.baseUrl=a,this.isCompressed=b}async fetch({name:a}){if(!this.baseUrl)throw Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!a)throw Error("CMap name must be specified.");let b=this.baseUrl+a+(this.isCompressed?".bcmap":""),c=this.isCompressed?d.CMapCompressionType.BINARY:d.CMapCompressionType.NONE;return p()&&q(b,document.baseURI)?fetch(b).then(async a=>{if(!a.ok)throw Error(a.statusText);let b;return b=this.isCompressed?new Uint8Array(await a.arrayBuffer()):(0,d.stringToBytes)(await a.text()),{cMapData:b,compressionType:c}}).catch(a=>{throw Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${b}`)}):new Promise((a,e)=>{let f=new XMLHttpRequest;f.open("GET",b,!0),this.isCompressed&&(f.responseType="arraybuffer"),f.onreadystatechange=()=>{if(f.readyState===XMLHttpRequest.DONE){if(200===f.status||0===f.status){let b;if(this.isCompressed&&f.response?b=new Uint8Array(f.response):!this.isCompressed&&f.responseText&&(b=(0,d.stringToBytes)(f.responseText)),b){a({cMapData:b,compressionType:c});return}}e(Error(f.statusText))}},f.send(null)}).catch(a=>{throw Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${b}`)})}}b.DOMCMapReaderFactory=h;class i{create(a,b){(0,d.assert)(a>0&&b>0,"Invalid SVG dimensions");let c=document.createElementNS(f,"svg:svg");return c.setAttribute("version","1.1"),c.setAttribute("width",a+"px"),c.setAttribute("height",b+"px"),c.setAttribute("preserveAspectRatio","none"),c.setAttribute("viewBox","0 0 "+a+" "+b),c}createElement(a){return(0,d.assert)("string"==typeof a,"Invalid SVG element type"),document.createElementNS(f,a)}}b.DOMSVGFactory=i;class j{constructor({viewBox:a,scale:b,rotation:c,offsetX:d=0,offsetY:e=0,dontFlip:f=!1}){this.viewBox=a,this.scale=b,this.rotation=c,this.offsetX=d,this.offsetY=e;let g=(a[2]+a[0])/2,h=(a[3]+a[1])/2,i,j,k,l;switch(c%=360,c=c<0?c+360:c){case 180:i=-1,j=0,k=0,l=1;break;case 90:i=0,j=1,k=1,l=0;break;case 270:i=0,j=-1,k=-1,l=0;break;default:i=1,j=0,k=0,l=-1}f&&(k=-k,l=-l);let m,n,o,p;0===i?(m=Math.abs(h-a[1])*b+d,n=Math.abs(g-a[0])*b+e,o=Math.abs(a[3]-a[1])*b,p=Math.abs(a[2]-a[0])*b):(m=Math.abs(g-a[0])*b+d,n=Math.abs(h-a[1])*b+e,o=Math.abs(a[2]-a[0])*b,p=Math.abs(a[3]-a[1])*b),this.transform=[i*b,j*b,k*b,l*b,m-i*b*g-k*b*h,n-j*b*g-l*b*h],this.width=o,this.height=p}clone({scale:a=this.scale,rotation:b=this.rotation,offsetX:c=this.offsetX,offsetY:d=this.offsetY,dontFlip:e=!1}={}){return new j({viewBox:this.viewBox.slice(),scale:a,rotation:b,offsetX:c,offsetY:d,dontFlip:e})}convertToViewportPoint(a,b){return d.Util.applyTransform([a,b],this.transform)}convertToViewportRectangle(a){let b=d.Util.applyTransform([a[0],a[1]],this.transform),c=d.Util.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],c[0],c[1]]}convertToPdfPoint(a,b){return d.Util.applyInverseTransform([a,b],this.transform)}}b.PageViewport=j;class k extends d.BaseException{constructor(a,b){super(a),this.type=b}}b.RenderingCancelledException=k;let l={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function m(a,{url:b,target:c,rel:f,enabled:g=!0}={}){(0,d.assert)(b&&"string"==typeof b,'addLinkAttributes: A valid "url" parameter must provided.');let h=(0,d.removeNullCharacters)(b);g?a.href=a.title=h:(a.href="",a.title=`Disabled: ${h}`,a.onclick=()=>!1);let i="";switch(c){case l.NONE:break;case l.SELF:i="_self";break;case l.BLANK:i="_blank";break;case l.PARENT:i="_parent";break;case l.TOP:i="_top"}a.target=i,a.rel="string"==typeof f?f:e}function n(a){let b=a.indexOf("#"),c=a.indexOf("?"),d=Math.min(b>0?b:a.length,c>0?c:a.length);return a.substring(a.lastIndexOf("/",d)+1,d)}b.LinkTarget=l;class o{constructor(){this.started=Object.create(null),this.times=[]}time(a){a in this.started&&(0,d.warn)(`Timer is already running for ${a}`),this.started[a]=Date.now()}timeEnd(a){a in this.started||(0,d.warn)(`Timer has not been started for ${a}`),this.times.push({name:a,start:this.started[a],end:Date.now()}),delete this.started[a]}toString(){let a=[],b=0;for(let c of this.times){let d=c.name;d.length>b&&(b=d.length)}for(let e of this.times){let f=e.end-e.start;a.push(`${e.name.padEnd(b)} ${f}ms
`)}return a.join("")}}function p(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function q(a,b){try{let{protocol:c}=b?new URL(a,b):new URL(a);return"http:"===c||"https:"===c}catch(d){return!1}}function r(a){return new Promise((b,c)=>{let d=document.createElement("script");d.src=a,d.onload=b,d.onerror=function(){c(Error(`Cannot load script at: ${d.src}`))},(document.head||document.documentElement).appendChild(d)})}function s(a){console.log("Deprecated API usage: "+a)}function t(a){(0,d.assert)(a instanceof Image,"Invalid `img` parameter.");let b=a.src;"string"==typeof b&&b.startsWith("blob:")&&URL.revokeObjectURL&&URL.revokeObjectURL(b),a.removeAttribute("src")}b.StatTimer=o;let u;class v{static toDateObject(a){if(!a||!(0,d.isString)(a))return null;u||(u=RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));let b=u.exec(a);if(!b)return null;let c=parseInt(b[1],10),e=parseInt(b[2],10);e=e>=1&&e<=12?e-1:0;let f=parseInt(b[3],10);f=f>=1&&f<=31?f:1;let g=parseInt(b[4],10);g=g>=0&&g<=23?g:0;let h=parseInt(b[5],10);h=h>=0&&h<=59?h:0;let i=parseInt(b[6],10);i=i>=0&&i<=59?i:0;let j=b[7]||"Z",k=parseInt(b[8],10);k=k>=0&&k<=23?k:0;let l=parseInt(b[9],10)||0;return l=l>=0&&l<=59?l:0,"-"===j?(g+=k,h+=l):"+"===j&&(g-=k,h-=l),new Date(Date.UTC(c,e,f,g,h,i))}}b.PDFDateString=v},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FontLoader=b.FontFaceObject=void 0;var d=c(1);class e{constructor({docId:a,onUnsupportedFeature:b}){this.constructor===e&&(0,d.unreachable)("Cannot initialize BaseFontLoader."),this.docId=a,this._onUnsupportedFeature=b,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(a){this.nativeFontFaces.push(a),document.fonts.add(a)}insertRule(a){let b=this.styleElement;b||((b=this.styleElement=document.createElement("style")).id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,document.documentElement.getElementsByTagName("head")[0].appendChild(b));let c=b.sheet;c.insertRule(a,c.cssRules.length)}clear(){this.nativeFontFaces.forEach(function(a){document.fonts.delete(a)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(a){if(a.attached||a.missingFile)return;if(a.attached=!0,this.isFontLoadingAPISupported){let b=a.createNativeFontFace();if(b){this.addNativeFontFace(b);try{await b.loaded}catch(c){throw this._onUnsupportedFeature({featureId:d.UNSUPPORTED_FEATURES.font}),(0,d.warn)(`Failed to load font '${b.family}': '${c}'.`),a.disableFontFace=!0,c}}return}let e=a.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(b=>{let c=this._queueLoadingCallback(b);this._prepareFontLoadEvent([e],[a],c)})}}_queueLoadingCallback(a){(0,d.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){let a="undefined"!=typeof document&&!!document.fonts;return(0,d.shadow)(this,"isFontLoadingAPISupported",a)}get isSyncFontLoadingSupported(){(0,d.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,d.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(a,b,c){(0,d.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let f;b.FontLoader=f,b.FontLoader=f=class extends e{constructor(a){super(a),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let a=!1;if("undefined"==typeof navigator)a=!0;else{let b=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);b&&b[1]>=14&&(a=!0)}return(0,d.shadow)(this,"isSyncFontLoadingSupported",a)}_queueLoadingCallback(a){function b(){for((0,d.assert)(!e.done,"completeRequest() cannot be called twice."),e.done=!0;c.requests.length>0&&c.requests[0].done;){let a=c.requests.shift();setTimeout(a.callback,0)}}let c=this.loadingContext,e={id:`pdfjs-font-loading-${c.nextRequestId++}`,done:!1,complete:b,callback:a};return c.requests.push(e),e}get _loadTestFont(){let a=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,d.shadow)(this,"_loadTestFont",a())}_prepareFontLoadEvent(a,b,c){function e(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|255&a.charCodeAt(b+3)}function f(a,b,c,d){let e=a.substring(0,b),f=a.substring(b+c);return e+d+f}let g,h,i=document.createElement("canvas");i.width=1,i.height=1;let j=i.getContext("2d"),k=0;function l(a,b){if(++k>30){(0,d.warn)("Load test font never loaded."),b();return}j.font="30px "+a,j.fillText(".",0,20);let c=j.getImageData(0,0,1,1);if(c.data[3]>0){b();return}setTimeout(l.bind(null,a,b))}let m=`lt${Date.now()}${this.loadTestFontId++}`,n=this._loadTestFont,o=976;n=f(n,o,m.length,m);let p=16,q=1482184792,r=e(n,p);for(g=0,h=m.length-3;g<h;g+=4)r=r-q+e(m,g)|0;g<m.length&&(r=r-q+e(m+"XXX",g)|0),n=f(n,p,4,(0,d.string32)(r));let s=`url(data:font/opentype;base64,${btoa(n)});`,t=`@font-face {font-family:"${m}";src:${s}}`;this.insertRule(t);let u=[];for(g=0,h=b.length;g<h;g++)u.push(b[g].loadedName);u.push(m);let v=document.createElement("div");for(g=0,v.style.visibility="hidden",v.style.width=v.style.height="10px",v.style.position="absolute",v.style.top=v.style.left="0px",h=u.length;g<h;++g){let w=document.createElement("span");w.textContent="Hi",w.style.fontFamily=u[g],v.appendChild(w)}document.body.appendChild(v),l(m,function(){document.body.removeChild(v),c.complete()})}};class g{constructor(a,{isEvalSupported:b=!0,disableFontFace:c=!1,ignoreErrors:d=!1,onUnsupportedFeature:e=null,fontRegistry:f=null}){for(let g in this.compiledGlyphs=Object.create(null),a)this[g]=a[g];this.isEvalSupported=!1!==b,this.disableFontFace=!0===c,this.ignoreErrors=!0===d,this._onUnsupportedFeature=e,this.fontRegistry=f}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let a=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),a}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let a=(0,d.bytesToString)(new Uint8Array(this.data)),b=`url(data:${this.mimetype};base64,${btoa(a)});`,c=`@font-face {font-family:"${this.loadedName}";src:${b}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,b),c}getPathGenerator(a,b){if(void 0!==this.compiledGlyphs[b])return this.compiledGlyphs[b];let c,e;try{c=a.get(this.loadedName+"_path_"+b)}catch(f){if(!this.ignoreErrors)throw f;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:d.UNSUPPORTED_FEATURES.font}),(0,d.warn)(`getPathGenerator - ignoring character: "${f}".`),this.compiledGlyphs[b]=function(a,b){}}if(this.isEvalSupported&&d.IsEvalSupportedCached.value){let g,h="";for(let i=0,j=c.length;i<j;i++)g=void 0!==(e=c[i]).args?e.args.join(","):"",h+="c."+e.cmd+"("+g+");\n";return this.compiledGlyphs[b]=Function("c","size",h)}return this.compiledGlyphs[b]=function(a,b){for(let d=0,f=c.length;d<f;d++)"scale"===(e=c[d]).cmd&&(e.args=[b,-b]),a[e.cmd].apply(a,e.args)}}}b.FontFaceObject=g},function(a,b,c){"use strict";let d=Object.create(null);{let{isNodeJS:e}=c(7),f="undefined"!=typeof navigator&&navigator.userAgent||"",g=/Trident/.test(f),h=/CriOS/.test(f);(g||h)&&(d.disableCreateObjectURL=!0),e&&(d.disableFontFace=!0,d.nativeImageDecoderSupport="none")}b.apiCompatibilityParams=Object.freeze(d)},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isNodeJS=void 0;let d="object"==typeof process&&process+""=="[object process]"&&!process.versions.nw&&!process.versions.electron;b.isNodeJS=d},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.CanvasGraphics=void 0;var d=c(1),e=c(9),f=16,g=100,h=4096,i=.65,j=!0,k=1e3,l=16;function m(a){a.mozCurrentTransform||(a._originalSave=a.save,a._originalRestore=a.restore,a._originalRotate=a.rotate,a._originalScale=a.scale,a._originalTranslate=a.translate,a._originalTransform=a.transform,a._originalSetTransform=a.setTransform,a._transformMatrix=a._transformMatrix||[1,0,0,1,0,0],a._transformStack=[],Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=b*e-c*d,i=c*d-b*e;return[e/h,c/i,d/i,b/h,(e*f-d*g)/i,(c*f-b*g)/h]}}),a.save=function(){var a=this._transformMatrix;this._transformStack.push(a),this._transformMatrix=a.slice(0,6),this._originalSave()},a.restore=function(){var a=this._transformStack.pop();a&&(this._transformMatrix=a,this._originalRestore())},a.translate=function(a,b){var c=this._transformMatrix;c[4]=c[0]*a+c[2]*b+c[4],c[5]=c[1]*a+c[3]*b+c[5],this._originalTranslate(a,b)},a.scale=function(a,b){var c=this._transformMatrix;c[0]=c[0]*a,c[1]=c[1]*a,c[2]=c[2]*b,c[3]=c[3]*b,this._originalScale(a,b)},a.transform=function(b,c,d,e,f,g){var h=this._transformMatrix;this._transformMatrix=[h[0]*b+h[2]*c,h[1]*b+h[3]*c,h[0]*d+h[2]*e,h[1]*d+h[3]*e,h[0]*f+h[2]*g+h[4],h[1]*f+h[3]*g+h[5]],a._originalTransform(b,c,d,e,f,g)},a.setTransform=function(b,c,d,e,f,g){this._transformMatrix=[b,c,d,e,f,g],a._originalSetTransform(b,c,d,e,f,g)},a.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this._transformMatrix;this._transformMatrix=[d[0]*b+d[2]*c,d[1]*b+d[3]*c,-(d[0]*c)+d[2]*b,-(d[1]*c)+d[3]*b,d[4],d[5]],this._originalRotate(a)})}var n=function(){function a(a){this.canvasFactory=a,this.cache=Object.create(null)}return a.prototype={getCanvas:function(a,b,c,d){var e;return void 0!==this.cache[a]?(e=this.cache[a],this.canvasFactory.reset(e,b,c),e.context.setTransform(1,0,0,1,0,0)):(e=this.canvasFactory.create(b,c),this.cache[a]=e),d&&m(e.context),e},clear(){for(var a in this.cache){var b=this.cache[a];this.canvasFactory.destroy(b),delete this.cache[a]}}},a}();function o(a){var b,c,d,e,f=1e3,g=a.width,h=a.height,i=g+1,j=new Uint8Array(i*(h+1)),k=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),l=g+7& -8,m=a.data,n=new Uint8Array(l*h),o=0;for(b=0,e=m.length;b<e;b++)for(var p=128,q=m[b];p>0;)n[o++]=q&p?0:255,p>>=1;var r=0;for(0!==n[o=0]&&(j[0]=1,++r),c=1;c<g;c++)n[o]!==n[o+1]&&(j[c]=n[o]?2:1,++r),o++;for(0!==n[o]&&(j[c]=2,++r),b=1;b<h;b++){o=b*l,d=b*i,n[o-l]!==n[o]&&(j[d]=n[o]?1:8,++r);var s=(n[o]?4:0)+(n[o-l]?8:0);for(c=1;c<g;c++)k[s=(s>>2)+(n[o+1]?4:0)+(n[o-l+1]?8:0)]&&(j[d+c]=k[s],++r),o++;if(n[o-l]!==n[o]&&(j[d+c]=n[o]?2:4,++r),r>f)return null}for(o=l*(h-1),d=b*i,0!==n[o]&&(j[d]=8,++r),c=1;c<g;c++)n[o]!==n[o+1]&&(j[d+c]=n[o]?4:8,++r),o++;if(0!==n[o]&&(j[d+c]=4,++r),r>f)return null;var t=new Int32Array([0,i,-1,0,-i,0,0,0,1]),u=[];for(b=0;r&&b<=h;b++){for(var v=b*i,w=v+g;v<w&&!j[v];)v++;if(v!==w){var x,y=[v%i,b],z=j[v],A=v;do{var B=t[z];do v+=B;while(!j[v])5!==(x=j[v])&&10!==x?(z=x,j[v]=0):(z=x&51*z>>4,j[v]&=z>>2|z<<2),y.push(v%i),y.push(v/i|0),!j[v]&& --r}while(A!==v)u.push(y),--b}}return function(a){a.save(),a.scale(1/g,-1/h),a.translate(0,-h),a.beginPath();for(var b=0,c=u.length;b<c;b++){var d=u[b];a.moveTo(d[0],d[1]);for(var e=2,f=d.length;e<f;e+=2)a.lineTo(d[e],d[e+1])}a.fill(),a.beginPath(),a.restore()}}var p=function(){function a(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=d.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=d.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return a.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a,this.y=b}},a}(),q=function(){var a=15,b=10;function c(a,b,c,d,e,f){this.ctx=a,this.current=new p,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=c,this.canvasFactory=d,this.webGLContext=e,this.imageLayer=f,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new n(this.canvasFactory),a&&m(a),this._cachedGetSinglePixelWidth=null}function q(a,b){if("undefined"!=typeof ImageData&&b instanceof ImageData){a.putImageData(b,0,0);return}var c,e,f,g,h,i=b.height,j=b.width,k=i%l,m=(i-k)/l,n=0===k?m:m+1,o=a.createImageData(j,l),p=0,q=b.data,r=o.data;if(b.kind===d.ImageKind.GRAYSCALE_1BPP){var s=q.byteLength,t=new Uint32Array(r.buffer,0,r.byteLength>>2),u=t.length,v=j+7>>3,w=4294967295,x=d.IsLittleEndianCached.value?4278190080:255;for(c=0;c<n;c++){for(e=0,f=c<m?l:k,h=0;e<f;e++){for(var y=s-p,z=0,A=y>v?j:8*y-7,B=-8&A,C=0,D=0;z<B;z+=8)D=q[p++],t[h++]=128&D?w:x,t[h++]=64&D?w:x,t[h++]=32&D?w:x,t[h++]=16&D?w:x,t[h++]=8&D?w:x,t[h++]=4&D?w:x,t[h++]=2&D?w:x,t[h++]=1&D?w:x;for(;z<A;z++)0===C&&(D=q[p++],C=128),t[h++]=D&C?w:x,C>>=1}for(;h<u;)t[h++]=0;a.putImageData(o,0,c*l)}}else if(b.kind===d.ImageKind.RGBA_32BPP){for(c=0,e=0,g=j*l*4;c<m;c++)r.set(q.subarray(p,p+g)),p+=g,a.putImageData(o,0,e),e+=l;c<n&&(g=j*k*4,r.set(q.subarray(p,p+g)),a.putImageData(o,0,e))}else if(b.kind===d.ImageKind.RGB_24BPP)for(c=0,g=j*(f=l);c<n;c++){for(c>=m&&(g=j*(f=k)),h=0,e=g;e--;)r[h++]=q[p++],r[h++]=q[p++],r[h++]=q[p++],r[h++]=255;a.putImageData(o,0,c*l)}else throw Error(`bad image kind: ${b.kind}`)}function r(a,b){for(var c=b.height,d=b.width,e=c%l,f=(c-e)/l,g=0===e?f:f+1,h=a.createImageData(d,l),i=0,j=b.data,k=h.data,m=0;m<g;m++){for(var n=m<f?l:e,o=3,p=0;p<n;p++)for(var q=0,r=0;r<d;r++){if(!q){var s=j[i++];q=128}k[o]=s&q?0:255,o+=4,q>>=1}a.putImageData(h,0,m*l)}}function s(a,b){for(var c=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],d=0,e=c.length;d<e;d++){var f=c[d];void 0!==a[f]&&(b[f]=a[f])}void 0!==a.setLineDash&&(b.setLineDash(a.getLineDash()),b.lineDashOffset=a.lineDashOffset)}function t(a){a.strokeStyle="#000000",a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",void 0!==a.setLineDash&&(a.setLineDash([]),a.lineDashOffset=0)}function u(a,b,c,d){for(var e=a.length,f=3;f<e;f+=4){var g=a[f];if(0===g)a[f-3]=b,a[f-2]=c,a[f-1]=d;else if(g<255){var h=255-g;a[f-3]=a[f-3]*g+b*h>>8,a[f-2]=a[f-2]*g+c*h>>8,a[f-1]=a[f-1]*g+d*h>>8}}}function v(a,b,c){for(var d=a.length,e=1/255,f=3;f<d;f+=4){var g=c?c[a[f]]:a[f];b[f]=b[f]*g*e|0}}function w(a,b,c){for(var d=a.length,e=3;e<d;e+=4){var f=77*a[e-3]+152*a[e-2]+28*a[e-1];b[e]=c?b[e]*c[f>>8]>>8:b[e]*f>>16}}function x(a,b,c,d,e,f,g){var h,i=!!f,j=i?f[0]:0,k=i?f[1]:0,l=i?f[2]:0;h="Luminosity"===e?w:v;for(var m=1048576,n=Math.min(d,Math.ceil(m/c)),o=0;o<d;o+=n){var p=Math.min(n,d-o),q=a.getImageData(0,o,c,p),r=b.getImageData(0,o,c,p);i&&u(q.data,j,k,l),h(q.data,r.data,g),a.putImageData(r,0,o)}}function y(a,b,c,d){var e=b.canvas,f=b.context;a.setTransform(b.scaleX,0,0,b.scaleY,b.offsetX,b.offsetY);var g=b.backdrop||null;if(!b.transferMap&&d.isEnabled){let h=d.composeSMask({layer:c.canvas,mask:e,properties:{subtype:b.subtype,backdrop:g}});a.setTransform(1,0,0,1,0,0),a.drawImage(h,b.offsetX,b.offsetY);return}x(f,c,e.width,e.height,b.subtype,g,b.transferMap),a.drawImage(e,0,0)}var z=["butt","round","square"],A=["miter","round","bevel"],B={},C={};for(var D in c.prototype={beginDrawing({transform:a,viewport:b,transparency:c=!1,background:d=null}){var e=this.ctx.canvas.width,f=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=d||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,e,f),this.ctx.restore(),c){var g=this.cachedCanvases.getCanvas("transparent",e,f,!0);this.compositeCtx=this.ctx,this.transparentCanvas=g.canvas,this.ctx=g.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),t(this.ctx),a&&this.ctx.transform.apply(this.ctx,a),this.ctx.transform.apply(this.ctx,b.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(c,e,f,g){var h,i=c.argsArray,j=c.fnArray,k=e||0,l=i.length;if(l===k)return k;for(var m=l-k>b&&"function"==typeof f,n=m?Date.now()+a:0,o=0,p=this.commonObjs,q=this.objs;;){if(void 0!==g&&k===g.nextBreakPoint)return g.breakIt(k,f),k;if((h=j[k])!==d.OPS.dependency)this[h].apply(this,i[k]);else for(let r of i[k]){let s=r.startsWith("g_")?p:q;if(!s.has(r))return s.get(r,f),k}if(++k===l)return k;if(m&& ++o>b){if(Date.now()>n)return f(),k;o=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a,this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=z[a]},setLineJoin:function(a){this.ctx.lineJoin=A[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,b){var c=this.ctx;void 0!==c.setLineDash&&(c.setLineDash(a),c.lineDashOffset=b)},setRenderingIntent(a){},setFlatness(a){},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d[0],f=d[1];switch(e){case"LW":this.setLineWidth(f);break;case"LC":this.setLineCap(f);break;case"LJ":this.setLineJoin(f);break;case"ML":this.setMiterLimit(f);break;case"D":this.setDash(f[0],f[1]);break;case"RI":this.setRenderingIntent(f);break;case"FL":this.setFlatness(f);break;case"Font":this.setFont(f[0],f[1]);break;case"CA":this.current.strokeAlpha=d[1];break;case"ca":this.current.fillAlpha=d[1],this.ctx.globalAlpha=d[1];break;case"BM":this.ctx.globalCompositeOperation=f;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=f?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,b=a.canvas.width,c=a.canvas.height,d="smaskGroupAt"+this.groupLevel,e=this.cachedCanvases.getCanvas(d,b,c,!0),f=this.ctx,g=f.mozCurrentTransform;this.ctx.save();var h=e.context;h.scale(1/a.scaleX,1/a.scaleY),h.translate(-a.offsetX,-a.offsetY),h.transform.apply(h,g),a.startTransformInverse=h.mozCurrentTransformInverse,s(f,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(f),this.groupLevel++},suspendSMaskGroup:function(){var a=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),y(this.ctx,this.current.activeSMask,a,this.webGLContext),this.ctx.restore(),this.ctx.save(),s(a,this.ctx),this.current.resumeSMaskCtx=a;var b=d.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform);this.ctx.transform.apply(this.ctx,b),a.save(),a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,a.canvas.width,a.canvas.height),a.restore()},resumeSMaskGroup:function(){var a=this.current.resumeSMaskCtx,b=this.ctx;this.ctx=a,this.groupStack.push(b),this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),y(this.ctx,this.current.activeSMask,a,this.webGLContext),this.ctx.restore(),s(a,this.ctx);var b=d.Util.transform(this.current.activeSMask.startTransformInverse,a.mozCurrentTransform);this.ctx.transform.apply(this.ctx,b)},save:function(){this.ctx.save();var a=this.current;this.stateStack.push(a),this.current=a.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f),this._cachedGetSinglePixelWidth=null},constructPath:function(a,b){for(var c=this.ctx,e=this.current,f=e.x,g=e.y,h=0,i=0,j=a.length;h<j;h++)switch(0|a[h]){case d.OPS.rectangle:f=b[i++],g=b[i++];var k=b[i++],l=b[i++];0===k&&(k=this.getSinglePixelWidth()),0===l&&(l=this.getSinglePixelWidth());var m=f+k,n=g+l;this.ctx.moveTo(f,g),this.ctx.lineTo(m,g),this.ctx.lineTo(m,n),this.ctx.lineTo(f,n),this.ctx.lineTo(f,g),this.ctx.closePath();break;case d.OPS.moveTo:f=b[i++],g=b[i++],c.moveTo(f,g);break;case d.OPS.lineTo:f=b[i++],g=b[i++],c.lineTo(f,g);break;case d.OPS.curveTo:f=b[i+4],g=b[i+5],c.bezierCurveTo(b[i],b[i+1],b[i+2],b[i+3],f,g),i+=6;break;case d.OPS.curveTo2:c.bezierCurveTo(f,g,b[i],b[i+1],b[i+2],b[i+3]),f=b[i+2],g=b[i+3],i+=4;break;case d.OPS.curveTo3:f=b[i+2],g=b[i+3],c.bezierCurveTo(b[i],b[i+1],f,g,f,g),i+=4;break;case d.OPS.closePath:c.closePath()}e.setCurrentPoint(f,g)},closePath:function(){this.ctx.closePath()},stroke:function(a){a=void 0===a||a;var b=this.ctx,c=this.current.strokeColor;if(b.globalAlpha=this.current.strokeAlpha,c&&c.hasOwnProperty("type")&&"Pattern"===c.type){b.save();let e=b.mozCurrentTransform,f=d.Util.singularValueDecompose2dScale(e)[0];b.strokeStyle=c.getPattern(b,this),b.lineWidth=Math.max(this.getSinglePixelWidth()*i,this.current.lineWidth*f),b.stroke(),b.restore()}else b.lineWidth=Math.max(this.getSinglePixelWidth()*i,this.current.lineWidth),b.stroke();a&&this.consumePath(),b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(a){a=void 0===a||a;var b=this.ctx,c=this.current.fillColor,d=this.current.patternFill,e=!1;d&&(b.save(),this.baseTransform&&b.setTransform.apply(b,this.baseTransform),b.fillStyle=c.getPattern(b,this),e=!0),this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill(),e&&b.restore(),a&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=B},eoClip:function(){this.pendingClip=C},beginText:function(){this.current.textMatrix=d.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,b=this.ctx;if(void 0===a){b.beginPath();return}b.save(),b.beginPath();for(var c=0;c<a.length;c++){var d=a[c];b.setTransform.apply(b,d.transform),b.translate(d.x,d.y),d.addToPath(b,d.fontSize)}b.restore(),b.clip(),b.beginPath(),delete this.pendingTextPaths},setCharSpacing:function(a){this.current.charSpacing=a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,b){var c=this.commonObjs.get(a),e=this.current;if(!c)throw Error(`Can't find font for ${a}`);if(e.fontMatrix=c.fontMatrix?c.fontMatrix:d.FONT_IDENTITY_MATRIX,(0===e.fontMatrix[0]||0===e.fontMatrix[3])&&(0,d.warn)("Invalid font matrix for font "+a),b<0?(b=-b,e.fontDirection=-1):e.fontDirection=1,this.current.font=c,this.current.fontSize=b,c.isType3Font)return;var h=c.loadedName||"sans-serif";let i="normal";c.black?i="900":c.bold&&(i="bold");var j=c.italic?"italic":"normal",k=`"${h}", ${c.fallbackName}`;let l=b;b<f?l=f:b>g&&(l=g),this.current.fontSizeScale=b/l,this.ctx.font=`${j} ${i} ${l}px ${k}`},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,b){this.current.x=this.current.lineX+=a,this.current.y=this.current.lineY+=b},setLeadingMoveText:function(a,b){this.setLeading(-b),this.moveText(a,b)},setTextMatrix:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f],this.current.textMatrixScale=Math.sqrt(a*a+b*b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar(a,b,c,e){var f,g=this.ctx,h=this.current,i=h.font,j=h.textRenderingMode,k=h.fontSize/h.fontSizeScale,l=j&d.TextRenderingMode.FILL_STROKE_MASK,m=!!(j&d.TextRenderingMode.ADD_TO_PATH_FLAG);let n=h.patternFill&&i.data;(i.disableFontFace||m||n)&&(f=i.getPathGenerator(this.commonObjs,a)),i.disableFontFace||n?(g.save(),g.translate(b,c),g.beginPath(),f(g,k),e&&g.setTransform.apply(g,e),(l===d.TextRenderingMode.FILL||l===d.TextRenderingMode.FILL_STROKE)&&g.fill(),(l===d.TextRenderingMode.STROKE||l===d.TextRenderingMode.FILL_STROKE)&&g.stroke(),g.restore()):((l===d.TextRenderingMode.FILL||l===d.TextRenderingMode.FILL_STROKE)&&g.fillText(a,b,c),(l===d.TextRenderingMode.STROKE||l===d.TextRenderingMode.FILL_STROKE)&&g.strokeText(a,b,c)),m&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:g.mozCurrentTransform,x:b,y:c,fontSize:k,addToPath:f})},get isFontSubpixelAAEnabled(){let{context:E}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);E.scale(1.5,1),E.fillText("I",0,10);for(var F=E.getImageData(0,0,10,10).data,G=!1,H=3;H<F.length;H+=4)if(F[H]>0&&F[H]<255){G=!0;break}return(0,d.shadow)(this,"isFontSubpixelAAEnabled",G)},showText:function(a){var b=this.current,c=b.font;if(c.isType3Font)return this.showType3Text(a);var e=b.fontSize;if(0===e)return;var f=this.ctx,g=b.fontSizeScale,h=b.charSpacing,j=b.wordSpacing,k=b.fontDirection,l=b.textHScale*k,m=a.length,n=c.vertical,o=n?1:-1,p=c.defaultVMetrics,q=e*b.fontMatrix[0],r=b.textRenderingMode===d.TextRenderingMode.FILL&&!c.disableFontFace&&!b.patternFill;f.save();let s;if(b.patternFill){f.save();let t=b.fillColor.getPattern(f,this);s=f.mozCurrentTransform,f.restore(),f.fillStyle=t}f.transform.apply(f,b.textMatrix),f.translate(b.x,b.y+b.textRise),k>0?f.scale(l,-1):f.scale(l,1);var u=b.lineWidth,v=b.textMatrixScale;if(0===v||0===u){var w=b.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;(w===d.TextRenderingMode.STROKE||w===d.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,u=this.getSinglePixelWidth()*i)}else u/=v;1!==g&&(f.scale(g,g),u/=g),f.lineWidth=u;var x,y=0;for(x=0;x<m;++x){var z,A,B,C,D,E,F,G,H=a[x];if((0,d.isNum)(H)){y+=o*H*e/1e3;continue}var I=!1,J=(H.isSpace?j:0)+h,K=H.fontChar,L=H.accent,M=H.width;if(n?(D=H.vmetric||p,E=H.vmetric?D[1]:.5*M,E=-E*q,F=D[2]*q,M=D?-D[0]:M,z=E/g,A=(y+F)/g):(z=y/g,A=0),c.remeasure&&M>0){var N=1e3*f.measureText(K).width/e*g;if(M<N&&this.isFontSubpixelAAEnabled){var O=M/N;I=!0,f.save(),f.scale(O,1),z/=O}else M!==N&&(z+=(M-N)/2e3*e/g)}(H.isInFont||c.missingFile)&&(r&&!L?f.fillText(K,z,A):(this.paintChar(K,z,A,s),L&&(B=z+L.offset.x/g,C=A-L.offset.y/g,this.paintChar(L.fontChar,B,C,s)))),y+=G=n?M*q-J*k:M*q+J*k,I&&f.restore()}n?b.y-=y:b.x+=y*l,f.restore()},showType3Text:function(a){var b,c,e,f,g=this.ctx,h=this.current,i=h.font,j=h.fontSize,k=h.fontDirection,l=i.vertical?1:-1,m=h.charSpacing,n=h.wordSpacing,o=h.textHScale*k,p=h.fontMatrix||d.FONT_IDENTITY_MATRIX,q=a.length,r=h.textRenderingMode===d.TextRenderingMode.INVISIBLE;if(!r&&0!==j){for(this._cachedGetSinglePixelWidth=null,g.save(),g.transform.apply(g,h.textMatrix),g.translate(h.x,h.y),g.scale(o,k),b=0;b<q;++b){if(c=a[b],(0,d.isNum)(c)){f=l*c*j/1e3,this.ctx.translate(f,0),h.x+=f*o;continue}var s=(c.isSpace?n:0)+m,t=i.charProcOperatorList[c.operatorListId];if(!t){(0,d.warn)(`Type3 character "${c.operatorListId}" is not available.`);continue}this.processingType3=c,this.save(),g.scale(j,j),g.transform.apply(g,p),this.executeOperatorList(t),this.restore(),e=d.Util.applyTransform([c.width,0],p)[0]*j+s,g.translate(e,0),h.x+=e*o}g.restore(),this.processingType3=null}},setCharWidth:function(a,b){},setCharWidthAndBounds:function(a,b,c,d,e,f){this.ctx.rect(c,d,e-c,f-d),this.clip(),this.endPath()},getColorN_Pattern:function(a){var b;if("TilingPattern"===a[0]){var d=a[1],f=this.baseTransform||this.ctx.mozCurrentTransform.slice(),g={createCanvasGraphics:a=>new c(a,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext)};b=new e.TilingPattern(a,d,this.ctx,g,f)}else b=(0,e.getShadingPatternFromIR)(a);return b},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(a,b,c){var e=d.Util.makeCssRgb(a,b,c);this.ctx.strokeStyle=e,this.current.strokeColor=e},setFillRGBColor:function(a,b,c){var e=d.Util.makeCssRgb(a,b,c);this.ctx.fillStyle=e,this.current.fillColor=e,this.current.patternFill=!1},shadingFill:function(a){var b=this.ctx;this.save();var c=(0,e.getShadingPatternFromIR)(a);b.fillStyle=c.getPattern(b,this,!0);var f=b.mozCurrentTransformInverse;if(f){var g=b.canvas,h=g.width,i=g.height,j=d.Util.applyTransform([0,0],f),k=d.Util.applyTransform([0,i],f),l=d.Util.applyTransform([h,0],f),m=d.Util.applyTransform([h,i],f),n=Math.min(j[0],k[0],l[0],m[0]),o=Math.min(j[1],k[1],l[1],m[1]),p=Math.max(j[0],k[0],l[0],m[0]),q=Math.max(j[1],k[1],l[1],m[1]);this.ctx.fillRect(n,o,p-n,q-o)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,d.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,d.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(a,b){if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(a)&&6===a.length&&this.transform.apply(this,a),this.baseTransform=this.ctx.mozCurrentTransform,b){var c=b[2]-b[0],d=b[3]-b[1];this.ctx.rect(b[0],b[1],c,d),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var b=this.ctx;a.isolated||(0,d.info)("TODO: Support non-isolated groups."),a.knockout&&(0,d.warn)("Knockout groups not supported.");var c=b.mozCurrentTransform;if(a.matrix&&b.transform.apply(b,a.matrix),!a.bbox)throw Error("Bounding box is required.");var e=d.Util.getAxialAlignedBoundingBox(a.bbox,b.mozCurrentTransform),f=[0,0,b.canvas.width,b.canvas.height],g=Math.floor((e=d.Util.intersect(e,f)||[0,0,0,0])[0]),i=Math.floor(e[1]),j=Math.max(Math.ceil(e[2])-g,1),k=Math.max(Math.ceil(e[3])-i,1),l=1,m=1;j>h&&(l=j/h,j=h),k>h&&(m=k/h,k=h);var n="groupAt"+this.groupLevel;a.smask&&(n+="_smask_"+(this.smaskCounter++)%2);var o=this.cachedCanvases.getCanvas(n,j,k,!0),p=o.context;p.scale(1/l,1/m),p.translate(-g,-i),p.transform.apply(p,c),a.smask?this.smaskStack.push({canvas:o.canvas,context:p,offsetX:g,offsetY:i,scaleX:l,scaleY:m,subtype:a.smask.subtype,backdrop:a.smask.backdrop,transferMap:a.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(g,i),b.scale(l,m)),s(b,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(b),this.groupLevel++,this.current.activeSMask=null},endGroup:function(a){this.groupLevel--;var b=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(b.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,c){if(this.save(),t(this.ctx),this.current=new p,Array.isArray(a)&&4===a.length){var d=a[2]-a[0],e=a[3]-a[1];this.ctx.rect(a[0],a[1],d,e),this.clip(),this.endPath()}this.transform.apply(this,b),this.transform.apply(this,c)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,b,c){let e=this.processingType3?this.commonObjs.get(a):this.objs.get(a);if(!e){(0,d.warn)("Dependent image isn't ready yet");return}this.save();var f=this.ctx;if(f.scale(1/b,-1/c),f.drawImage(e,0,0,e.width,e.height,0,-c,b,c),this.imageLayer){var g=f.mozCurrentTransformInverse,h=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:a,left:h[0],top:h[1],width:b/g[0],height:c/g[3]})}this.restore()},paintImageMaskXObject:function(a){var b=this.ctx,c=a.width,d=a.height,e=this.current.fillColor,f=this.current.patternFill,g=this.processingType3;if(j&&g&& void 0===g.compiled&&(c<=k&&d<=k?g.compiled=o({data:a.data,width:c,height:d}):g.compiled=null),g&&g.compiled){g.compiled(b);return}var h=this.cachedCanvases.getCanvas("maskCanvas",c,d),i=h.context;i.save(),r(i,a),i.globalCompositeOperation="source-in",i.fillStyle=f?e.getPattern(i,this):e,i.fillRect(0,0,c,d),i.restore(),this.paintInlineImageXObject(h.canvas)},paintImageMaskXObjectRepeat:function(a,b,c,d){var e=a.width,f=a.height,g=this.current.fillColor,h=this.current.patternFill,i=this.cachedCanvases.getCanvas("maskCanvas",e,f),j=i.context;j.save(),r(j,a),j.globalCompositeOperation="source-in",j.fillStyle=h?g.getPattern(j,this):g,j.fillRect(0,0,e,f),j.restore();for(var k=this.ctx,l=0,m=d.length;l<m;l+=2)k.save(),k.transform(b,0,0,c,d[l],d[l+1]),k.scale(1,-1),k.drawImage(i.canvas,0,0,e,f,0,-1,1,1),k.restore()},paintImageMaskXObjectGroup:function(a){for(var b=this.ctx,c=this.current.fillColor,d=this.current.patternFill,e=0,f=a.length;e<f;e++){var g=a[e],h=g.width,i=g.height,j=this.cachedCanvases.getCanvas("maskCanvas",h,i),k=j.context;k.save(),r(k,g),k.globalCompositeOperation="source-in",k.fillStyle=d?c.getPattern(k,this):c,k.fillRect(0,0,h,i),k.restore(),b.save(),b.transform.apply(b,g.transform),b.scale(1,-1),b.drawImage(j.canvas,0,0,h,i,0,-1,1,1),b.restore()}},paintImageXObject:function(a){let b=this.processingType3?this.commonObjs.get(a):this.objs.get(a);if(!b){(0,d.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(b)},paintImageXObjectRepeat:function(a,b,c,e){let f=this.processingType3?this.commonObjs.get(a):this.objs.get(a);if(!f){(0,d.warn)("Dependent image isn't ready yet");return}for(var g=f.width,h=f.height,i=[],j=0,k=e.length;j<k;j+=2)i.push({transform:[b,0,0,c,e[j],e[j+1]],x:0,y:0,w:g,h:h});this.paintInlineImageXObjectGroup(f,i)},paintInlineImageXObject:function(a){var b,c,d=a.width,e=a.height,f=this.ctx;this.save(),f.scale(1/d,-1/e);var g=f.mozCurrentTransformInverse,h=g[0],i=g[1],j=Math.max(Math.sqrt(h*h+i*i),1),k=g[2],l=g[3],m=Math.max(Math.sqrt(k*k+l*l),1);if("function"==typeof HTMLElement&&a instanceof HTMLElement||!a.data)b=a;else{var n=(c=this.cachedCanvases.getCanvas("inlineImage",d,e)).context;q(n,a),b=c.canvas}for(var o=d,p=e,r="prescale1";j>2&&o>1||m>2&&p>1;){var s=o,t=p;j>2&&o>1&&(s=Math.ceil(o/2),j/=o/s),m>2&&p>1&&(t=Math.ceil(p/2),m/=p/t),(n=(c=this.cachedCanvases.getCanvas(r,s,t)).context).clearRect(0,0,s,t),n.drawImage(b,0,0,o,p,0,0,s,t),b=c.canvas,o=s,p=t,r="prescale1"===r?"prescale2":"prescale1"}if(f.drawImage(b,0,0,o,p,0,-e,d,e),this.imageLayer){var u=this.getCanvasPosition(0,-e);this.imageLayer.appendImage({imgData:a,left:u[0],top:u[1],width:d/g[0],height:e/g[3]})}this.restore()},paintInlineImageXObjectGroup:function(a,b){var c=this.ctx,d=a.width,e=a.height,f=this.cachedCanvases.getCanvas("inlineImage",d,e);q(f.context,a);for(var g=0,h=b.length;g<h;g++){var i=b[g];if(c.save(),c.transform.apply(c,i.transform),c.scale(1,-1),c.drawImage(f.canvas,i.x,i.y,i.w,i.h,0,-1,1,1),this.imageLayer){var j=this.getCanvasPosition(i.x,i.y);this.imageLayer.appendImage({imgData:a,left:j[0],top:j[1],width:d,height:e})}c.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,d.warn)("Unsupported 'paintXObject' command.")},markPoint:function(a){},markPointProps:function(a,b){},beginMarkedContent:function(a){},beginMarkedContentProps:function(a,b){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;this.pendingClip&&(this.pendingClip===C?a.clip("evenodd"):a.clip(),this.pendingClip=null),a.beginPath()},getSinglePixelWidth(a){if(null===this._cachedGetSinglePixelWidth){let b=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(b[0]*b[0]+b[1]*b[1],b[2]*b[2]+b[3]*b[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}},d.OPS)c.prototype[d.OPS[D]]=c.prototype[D];return c}();b.CanvasGraphics=q},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getShadingPatternFromIR=h,b.TilingPattern=void 0;var d=c(1),e={};function f(a,b){if(!b||"undefined"==typeof Path2D)return;let c=b[2]-b[0],d=b[3]-b[1],e=new Path2D;e.rect(b[0],b[1],c,d),a.clip(e)}e.RadialAxial={fromIR:function(a){var b=a[1],c=a[2],d=a[3],e=a[4],g=a[5],h=a[6],i=a[7];return{type:"Pattern",getPattern:function(a){f(a,c),"axial"===b?j=a.createLinearGradient(e[0],e[1],g[0],g[1]):"radial"===b&&(j=a.createRadialGradient(e[0],e[1],h,g[0],g[1],i));for(var j,k=0,l=d.length;k<l;++k){var m=d[k];j.addColorStop(m[0],m[1])}return j}}}};var g=function(){function a(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r=b.coords,s=b.colors,t=a.data,u=4*a.width;r[c+1]>r[d+1]&&(i=c,c=d,d=i,i=f,f=g,g=i),r[d+1]>r[e+1]&&(i=d,d=e,e=i,i=g,g=h,h=i),r[c+1]>r[d+1]&&(i=c,c=d,d=i,i=f,f=g,g=i);var v=(r[c]+b.offsetX)*b.scaleX,w=(r[c+1]+b.offsetY)*b.scaleY,x=(r[d]+b.offsetX)*b.scaleX,y=(r[d+1]+b.offsetY)*b.scaleY,z=(r[e]+b.offsetX)*b.scaleX,A=(r[e+1]+b.offsetY)*b.scaleY;if(!(w>=A))for(var B=s[f],C=s[f+1],D=s[f+2],E=s[g],F=s[g+1],G=s[g+2],H=s[h],I=s[h+1],J=s[h+2],K=Math.round(w),L=Math.round(A),M=K;M<=L;M++){if(M<y){let N;j=v-(v-x)*(N=M<w?0:w===y?1:(w-M)/(w-y)),k=B-(B-E)*N,l=C-(C-F)*N,m=D-(D-G)*N}else{let O;j=x-(x-z)*(O=M>A?1:y===A?0:(y-M)/(y-A)),k=E-(E-H)*O,l=F-(F-I)*O,m=G-(G-J)*O}let P;n=v-(v-z)*(P=M<w?0:M>A?1:(w-M)/(w-A)),o=B-(B-H)*P,p=C-(C-I)*P,q=D-(D-J)*P;for(var Q=Math.round(Math.min(j,n)),R=Math.round(Math.max(j,n)),S=u*M+4*Q,T=Q;T<=R;T++){let U=(j-T)/(j-n);U<0?U=0:U>1&&(U=1),t[S++]=k-(k-o)*U|0,t[S++]=l-(l-p)*U|0,t[S++]=m-(m-q)*U|0,t[S++]=255}}}function b(b,c,d){var e,f,g=c.coords,h=c.colors;switch(c.type){case"lattice":var i=c.verticesPerRow,j=Math.floor(g.length/i)-1,k=i-1;for(e=0;e<j;e++)for(var l=e*i,m=0;m<k;m++,l++)a(b,d,g[l],g[l+1],g[l+i],h[l],h[l+1],h[l+i]),a(b,d,g[l+i+1],g[l+1],g[l+i],h[l+i+1],h[l+1],h[l+i]);break;case"triangles":for(e=0,f=g.length;e<f;e+=3)a(b,d,g[e],g[e+1],g[e+2],h[e],h[e+1],h[e+2]);break;default:throw Error("illegal figure")}}function c(a,c,d,e,f,g,h,i){var j,k,l,m,n=1.1,o=3e3,p=2,q=Math.floor(a[0]),r=Math.floor(a[1]),s=Math.ceil(a[2])-q,t=Math.ceil(a[3])-r,u=Math.min(Math.ceil(Math.abs(s*c[0]*n)),o),v=Math.min(Math.ceil(Math.abs(t*c[1]*n)),o),w=s/u,x=t/v,y={coords:d,colors:e,offsetX:-q,offsetY:-r,scaleX:1/w,scaleY:1/x},z=u+2*p,A=v+2*p;if(i.isEnabled)j=i.drawFigures({width:u,height:v,backgroundColor:g,figures:f,context:y}),(k=h.getCanvas("mesh",z,A,!1)).context.drawImage(j,p,p),j=k.canvas;else{var B=(k=h.getCanvas("mesh",z,A,!1)).context,C=B.createImageData(u,v);if(g){var D=C.data;for(l=0,m=D.length;l<m;l+=4)D[l]=g[0],D[l+1]=g[1],D[l+2]=g[2],D[l+3]=255}for(l=0;l<f.length;l++)b(C,f[l],y);B.putImageData(C,p,p),j=k.canvas}return{canvas:j,offsetX:q-p*w,offsetY:r-p*x,scaleX:w,scaleY:x}}return c}();function h(a){var b=e[a[0]];if(!b)throw Error(`Unknown IR type: ${a[0]}`);return b.fromIR(a)}e.Mesh={fromIR:function(a){var b=a[2],c=a[3],e=a[4],h=a[5],i=a[6],j=a[7],k=a[8];return{type:"Pattern",getPattern:function(a,l,m){if(f(a,j),m)n=d.Util.singularValueDecompose2dScale(a.mozCurrentTransform);else if(n=d.Util.singularValueDecompose2dScale(l.baseTransform),i){var n,o=d.Util.singularValueDecompose2dScale(i);n=[n[0]*o[0],n[1]*o[1]]}var p=g(h,n,b,c,e,m?null:k,l.cachedCanvases,l.webGLContext);return!m&&(a.setTransform.apply(a,l.baseTransform),i&&a.transform.apply(a,i)),a.translate(p.offsetX,p.offsetY),a.scale(p.scaleX,p.scaleY),a.createPattern(p.canvas,"no-repeat")}}}},e.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var i=function(){var a={COLORED:1,UNCOLORED:2},b=3e3;function c(a,b,c,d,e){this.operatorList=a[2],this.matrix=a[3]||[1,0,0,1,0,0],this.bbox=a[4],this.xstep=a[5],this.ystep=a[6],this.paintType=a[7],this.tilingType=a[8],this.color=b,this.canvasGraphicsFactory=d,this.baseTransform=e,this.type="Pattern",this.ctx=c}return c.prototype={createPatternCanvas:function(a){var b=this.operatorList,c=this.bbox,e=this.xstep,f=this.ystep,g=this.paintType,h=this.tilingType,i=this.color,j=this.canvasGraphicsFactory;(0,d.info)("TilingType: "+h);var k=c[0],l=c[1],m=c[2],n=c[3],o=d.Util.singularValueDecompose2dScale(this.matrix),p=d.Util.singularValueDecompose2dScale(this.baseTransform),q=[o[0]*p[0],o[1]*p[1]],r=this.getSizeAndScale(e,this.ctx.canvas.width,q[0]),s=this.getSizeAndScale(f,this.ctx.canvas.height,q[1]),t=a.cachedCanvases.getCanvas("pattern",r.size,s.size,!0),u=t.context,v=j.createCanvasGraphics(u);return v.groupLevel=a.groupLevel,this.setFillAndStrokeStyleToContext(v,g,i),v.transform(r.scale,0,0,s.scale,0,0),v.transform(1,0,0,1,-k,-l),this.clipBbox(v,c,k,l,m,n),v.executeOperatorList(b),this.ctx.transform(1,0,0,1,k,l),this.ctx.scale(1/r.scale,1/s.scale),t.canvas},getSizeAndScale:function(a,c,d){a=Math.abs(a);var e=Math.max(b,c),f=Math.ceil(a*d);return f>=e?f=e:d=f/a,{scale:d,size:f}},clipBbox:function(a,b,c,d,e,f){if(Array.isArray(b)&&4===b.length){var g=e-c,h=f-d;a.ctx.rect(c,d,g,h),a.clip(),a.endPath()}},setFillAndStrokeStyleToContext:function(b,c,e){let f=b.ctx,g=b.current;switch(c){case a.COLORED:var h=this.ctx;f.fillStyle=h.fillStyle,f.strokeStyle=h.strokeStyle,g.fillColor=h.fillStyle,g.strokeColor=h.strokeStyle;break;case a.UNCOLORED:var i=d.Util.makeCssRgb(e[0],e[1],e[2]);f.fillStyle=i,f.strokeStyle=i,g.fillColor=i,g.strokeColor=i;break;default:throw new d.FormatError(`Unsupported paint type: ${c}`)}},getPattern:function(a,b){(a=this.ctx).setTransform.apply(a,this.baseTransform),a.transform.apply(a,this.matrix);var c=this.createPatternCanvas(b);return a.createPattern(c,"repeat")}},c}();b.TilingPattern=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.GlobalWorkerOptions=void 0;let d=Object.create(null);b.GlobalWorkerOptions=d,d.workerPort=void 0===d.workerPort?null:d.workerPort,d.workerSrc=void 0===d.workerSrc?"":d.workerSrc},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MessageHandler=void 0;var d=c(1);let e={UNKNOWN:0,DATA:1,ERROR:2},f={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function g(a){if("object"!=typeof a||null===a)return a;switch(a.name){case"AbortException":return new d.AbortException(a.message);case"MissingPDFException":return new d.MissingPDFException(a.message);case"UnexpectedResponseException":return new d.UnexpectedResponseException(a.message,a.status);case"UnknownErrorException":return new d.UnknownErrorException(a.message,a.details);default:return new d.UnknownErrorException(a.message,a.toString())}}class h{constructor(a,b,c){this.sourceName=a,this.targetName=b,this.comObj=c,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=a=>{let b=a.data;if(b.targetName!==this.sourceName)return;if(b.stream){this._processStreamMessage(b);return}if(b.callback){let d=b.callbackId,f=this.callbackCapabilities[d];if(!f)throw Error(`Cannot resolve callback ${d}`);if(delete this.callbackCapabilities[d],b.callback===e.DATA)f.resolve(b.data);else if(b.callback===e.ERROR)f.reject(g(b.reason));else throw Error("Unexpected callback case");return}let h=this.actionHandler[b.action];if(!h)throw Error(`Unknown action from worker: ${b.action}`);if(b.callbackId){let i=this.sourceName,j=b.sourceName;new Promise(function(a){a(h(b.data))}).then(function(a){c.postMessage({sourceName:i,targetName:j,callback:e.DATA,callbackId:b.callbackId,data:a})},function(a){c.postMessage({sourceName:i,targetName:j,callback:e.ERROR,callbackId:b.callbackId,reason:g(a)})});return}if(b.streamId){this._createStreamSink(b);return}h(b.data)},c.addEventListener("message",this._onComObjOnMessage)}on(a,b){let c=this.actionHandler;if(c[a])throw Error(`There is already an actionName called "${a}"`);c[a]=b}send(a,b,c){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:b},c)}sendWithPromise(a,b,c){let e=this.callbackId++,f=(0,d.createPromiseCapability)();this.callbackCapabilities[e]=f;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,callbackId:e,data:b},c)}catch(g){f.reject(g)}return f.promise}sendWithStream(a,b,c,e){let h=this.streamId++,i=this.sourceName,j=this.targetName,k=this.comObj;return new ReadableStream({start:c=>{let f=(0,d.createPromiseCapability)();return this.streamControllers[h]={controller:c,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},this._postMessage({sourceName:i,targetName:j,action:a,streamId:h,data:b,desiredSize:c.desiredSize},e),f.promise},pull:a=>{let b=(0,d.createPromiseCapability)();return this.streamControllers[h].pullCall=b,k.postMessage({sourceName:i,targetName:j,stream:f.PULL,streamId:h,desiredSize:a.desiredSize}),b.promise},cancel:a=>{(0,d.assert)(a instanceof Error,"cancel must have a valid reason");let b=(0,d.createPromiseCapability)();return this.streamControllers[h].cancelCall=b,this.streamControllers[h].isClosed=!0,k.postMessage({sourceName:i,targetName:j,stream:f.CANCEL,streamId:h,reason:g(a)}),b.promise}},c)}_createStreamSink(a){let b=this,c=this.actionHandler[a.action],e=a.streamId,h=this.sourceName,i=a.sourceName,j=this.comObj,k={enqueue(a,c=1,g){if(this.isCancelled)return;let j=this.desiredSize;this.desiredSize-=c,j>0&&this.desiredSize<=0&&(this.sinkCapability=(0,d.createPromiseCapability)(),this.ready=this.sinkCapability.promise),b._postMessage({sourceName:h,targetName:i,stream:f.ENQUEUE,streamId:e,chunk:a},g)},close(){!this.isCancelled&&(this.isCancelled=!0,j.postMessage({sourceName:h,targetName:i,stream:f.CLOSE,streamId:e}),delete b.streamSinks[e])},error(a){(0,d.assert)(a instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,j.postMessage({sourceName:h,targetName:i,stream:f.ERROR,streamId:e,reason:g(a)}))},sinkCapability:(0,d.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:a.desiredSize,ready:null};k.sinkCapability.resolve(),k.ready=k.sinkCapability.promise,this.streamSinks[e]=k,new Promise(function(b){b(c(a.data,k))}).then(function(){j.postMessage({sourceName:h,targetName:i,stream:f.START_COMPLETE,streamId:e,success:!0})},function(a){j.postMessage({sourceName:h,targetName:i,stream:f.START_COMPLETE,streamId:e,reason:g(a)})})}_processStreamMessage(a){let b=a.streamId,c=this.sourceName,e=a.sourceName,h=this.comObj;switch(a.stream){case f.START_COMPLETE:a.success?this.streamControllers[b].startCall.resolve():this.streamControllers[b].startCall.reject(g(a.reason));break;case f.PULL_COMPLETE:a.success?this.streamControllers[b].pullCall.resolve():this.streamControllers[b].pullCall.reject(g(a.reason));break;case f.PULL:if(!this.streamSinks[b]){h.postMessage({sourceName:c,targetName:e,stream:f.PULL_COMPLETE,streamId:b,success:!0});break}this.streamSinks[b].desiredSize<=0&&a.desiredSize>0&&this.streamSinks[b].sinkCapability.resolve(),this.streamSinks[b].desiredSize=a.desiredSize;let{onPull:i}=this.streamSinks[a.streamId];new Promise(function(a){a(i&&i())}).then(function(){h.postMessage({sourceName:c,targetName:e,stream:f.PULL_COMPLETE,streamId:b,success:!0})},function(a){h.postMessage({sourceName:c,targetName:e,stream:f.PULL_COMPLETE,streamId:b,reason:g(a)})});break;case f.ENQUEUE:if((0,d.assert)(this.streamControllers[b],"enqueue should have stream controller"),this.streamControllers[b].isClosed)break;this.streamControllers[b].controller.enqueue(a.chunk);break;case f.CLOSE:if((0,d.assert)(this.streamControllers[b],"close should have stream controller"),this.streamControllers[b].isClosed)break;this.streamControllers[b].isClosed=!0,this.streamControllers[b].controller.close(),this._deleteStreamController(b);break;case f.ERROR:(0,d.assert)(this.streamControllers[b],"error should have stream controller"),this.streamControllers[b].controller.error(g(a.reason)),this._deleteStreamController(b);break;case f.CANCEL_COMPLETE:a.success?this.streamControllers[b].cancelCall.resolve():this.streamControllers[b].cancelCall.reject(g(a.reason)),this._deleteStreamController(b);break;case f.CANCEL:if(!this.streamSinks[b])break;let{onCancel:j}=this.streamSinks[a.streamId];new Promise(function(b){b(j&&j(g(a.reason)))}).then(function(){h.postMessage({sourceName:c,targetName:e,stream:f.CANCEL_COMPLETE,streamId:b,success:!0})},function(a){h.postMessage({sourceName:c,targetName:e,stream:f.CANCEL_COMPLETE,streamId:b,reason:g(a)})}),this.streamSinks[b].sinkCapability.reject(g(a.reason)),this.streamSinks[b].isCancelled=!0,delete this.streamSinks[b];break;default:throw Error("Unexpected stream case")}}async _deleteStreamController(a){await Promise.allSettled([this.streamControllers[a].startCall,this.streamControllers[a].pullCall,this.streamControllers[a].cancelCall].map(function(a){return a&&a.promise})),delete this.streamControllers[a]}_postMessage(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}b.MessageHandler=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Metadata=void 0;var d=c(1),e=c(13);class f{constructor(a){(0,d.assert)("string"==typeof a,"Metadata: input is not a string"),a=this._repair(a);let b=new e.SimpleXMLParser,c=b.parseFromString(a);this._metadataMap=new Map,c&&this._parse(c)}_repair(a){return a.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(a,b){let c=b.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,c,d){return String.fromCharCode(64*b+8*c+1*d)}).replace(/&(amp|apos|gt|lt|quot);/g,function(a,b){switch(b){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw Error(`_repair: ${b} isn't defined.`)}),d="";for(let e=0,f=c.length;e<f;e+=2){let g=256*c.charCodeAt(e)+c.charCodeAt(e+1);g>=32&&g<127&&60!==g&&62!==g&&38!==g?d+=String.fromCharCode(g):d+="&#x"+(65536+g).toString(16).substring(1)+";"}return">"+d})}_parse(a){let b=a.documentElement;if("rdf:rdf"!==b.nodeName.toLowerCase())for(b=b.firstChild;b&&"rdf:rdf"!==b.nodeName.toLowerCase();)b=b.nextSibling;let c=b?b.nodeName.toLowerCase():null;if(!b||"rdf:rdf"!==c||!b.hasChildNodes())return;let d=b.childNodes;for(let e=0,f=d.length;e<f;e++){let g=d[e];if("rdf:description"===g.nodeName.toLowerCase()){for(let h=0,i=g.childNodes.length;h<i;h++)if("#text"!==g.childNodes[h].nodeName.toLowerCase()){let j=g.childNodes[h],k=j.nodeName.toLowerCase();this._metadataMap.set(k,j.textContent.trim())}}}}get(a){return this._metadataMap.has(a)?this._metadataMap.get(a):null}getAll(){let a=Object.create(null);for(let[b,c]of this._metadataMap)a[b]=c;return a}has(a){return this._metadataMap.has(a)}}b.Metadata=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SimpleXMLParser=void 0;let d={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function e(a,b){let c=a[b];return" "===c||"\n"===c||"\r"===c||"	"===c}function f(a){for(let b=0,c=a.length;b<c;b++)if(!e(a,b))return!1;return!0}class g{_resolveEntities(a){return a.replace(/&([^;]+);/g,(a,b)=>{if("#x"===b.substring(0,2))return String.fromCharCode(parseInt(b.substring(2),16));if("#"===b.substring(0,1))return String.fromCharCode(parseInt(b.substring(1),10));switch(b){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return this.onResolveEntity(b)})}_parseContent(a,b){let c=[],d=b;function f(){for(;d<a.length&&e(a,d);)++d}for(;d<a.length&&!e(a,d)&&">"!==a[d]&&"/"!==a[d];)++d;let g=a.substring(b,d);for(f();d<a.length&&">"!==a[d]&&"/"!==a[d]&&"?"!==a[d];){f();let h="",i="";for(;d<a.length&&!e(a,d)&&"="!==a[d];)h+=a[d],++d;if(f(),"="!==a[d])return null;++d,f();let j=a[d];if('"'!==j&&"'"!==j)return null;let k=a.indexOf(j,++d);if(k<0)return null;i=a.substring(d,k),c.push({name:h,value:this._resolveEntities(i)}),d=k+1,f()}return{name:g,attributes:c,parsed:d-b}}_parseProcessingInstruction(a,b){let c=b;function d(){for(;c<a.length&&e(a,c);)++c}for(;c<a.length&&!e(a,c)&&">"!==a[c]&&"/"!==a[c];)++c;let f=a.substring(b,c);d();let g=c;for(;c<a.length&&("?"!==a[c]||">"!==a[c+1]);)++c;let h=a.substring(g,c);return{name:f,value:h,parsed:c-b}}parseXml(a){let b=0;for(;b<a.length;){let c=a[b],e=b;if("<"===c){++e;let f=a[e],g;switch(f){case"/":if(++e,(g=a.indexOf(">",e))<0){this.onError(d.UnterminatedElement);return}this.onEndElement(a.substring(e,g)),e=g+1;break;case"?":++e;let h=this._parseProcessingInstruction(a,e);if("?>"!==a.substring(e+h.parsed,e+h.parsed+2)){this.onError(d.UnterminatedXmlDeclaration);return}this.onPi(h.name,h.value),e+=h.parsed+2;break;case"!":if("--"===a.substring(e+1,e+3)){if((g=a.indexOf("-->",e+3))<0){this.onError(d.UnterminatedComment);return}this.onComment(a.substring(e+3,g)),e=g+3}else if("[CDATA["===a.substring(e+1,e+8)){if((g=a.indexOf("]]>",e+8))<0){this.onError(d.UnterminatedCdat);return}this.onCdata(a.substring(e+8,g)),e=g+3}else if("DOCTYPE"===a.substring(e+1,e+8)){let i=a.indexOf("[",e+8),j=!1;if((g=a.indexOf(">",e+8))<0){this.onError(d.UnterminatedDoctypeDeclaration);return}if(i>0&&g>i){if((g=a.indexOf("]>",e+8))<0){this.onError(d.UnterminatedDoctypeDeclaration);return}j=!0}let k=a.substring(e+8,g+(j?1:0));this.onDoctype(k),e=g+(j?2:1)}else{this.onError(d.MalformedElement);return}break;default:let l=this._parseContent(a,e);if(null===l){this.onError(d.MalformedElement);return}let m=!1;if("/>"===a.substring(e+l.parsed,e+l.parsed+2))m=!0;else if(">"!==a.substring(e+l.parsed,e+l.parsed+1)){this.onError(d.UnterminatedElement);return}this.onBeginElement(l.name,l.attributes,m),e+=l.parsed+(m?2:1)}}else{for(;e<a.length&&"<"!==a[e];)e++;let n=a.substring(b,e);this.onText(this._resolveEntities(n))}b=e}}onResolveEntity(a){return`&${a};`}onPi(a,b){}onComment(a){}onCdata(a){}onDoctype(a){}onText(a){}onBeginElement(a,b,c){}onEndElement(a){}onError(a){}}class h{constructor(a,b){this.nodeName=a,this.nodeValue=b,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){let a=this.parentNode.childNodes;if(!a)return;let b=a.indexOf(this);if(-1!==b)return a[b+1]}get textContent(){return this.childNodes?this.childNodes.map(function(a){return a.textContent}).join(""):this.nodeValue||""}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}}class i extends g{constructor(){super(),this._currentFragment=null,this._stack=null,this._errorCode=d.NoError}parseFromString(a){if(this._currentFragment=[],this._stack=[],this._errorCode=d.NoError,this.parseXml(a),this._errorCode!==d.NoError)return;let[b]=this._currentFragment;if(b)return{documentElement:b}}onResolveEntity(a){return"apos"===a?"'":super.onResolveEntity(a)}onText(a){if(f(a))return;let b=new h("#text",a);this._currentFragment.push(b)}onCdata(a){let b=new h("#text",a);this._currentFragment.push(b)}onBeginElement(a,b,c){let d=new h(a);d.childNodes=[],this._currentFragment.push(d),!c&&(this._stack.push(this._currentFragment),this._currentFragment=d.childNodes)}onEndElement(a){this._currentFragment=this._stack.pop()||[];let b=this._currentFragment[this._currentFragment.length-1];if(b)for(let c=0,d=b.childNodes.length;c<d;c++)b.childNodes[c].parentNode=b}onError(a){this._errorCode=a}}b.SimpleXMLParser=i},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PDFDataTransportStream=void 0;var d=c(1);class e{constructor(a,b){(0,d.assert)(b),this._queuedChunks=[],this._progressiveDone=a.progressiveDone||!1;let c=a.initialData;if(c&&c.length>0){let e=new Uint8Array(c).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=b,this._isStreamingSupported=!a.disableStream,this._isRangeSupported=!a.disableRange,this._contentLength=a.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((a,b)=>{this._onReceiveData({begin:a,chunk:b})}),this._pdfDataRangeTransport.addProgressListener((a,b)=>{this._onProgress({loaded:a,total:b})}),this._pdfDataRangeTransport.addProgressiveReadListener(a=>{this._onReceiveData({chunk:a})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(a){let b=new Uint8Array(a.chunk).buffer;if(void 0===a.begin)this._fullRequestReader?this._fullRequestReader._enqueue(b):this._queuedChunks.push(b);else{let c=this._rangeReaders.some(function(c){return c._begin===a.begin&&(c._enqueue(b),!0)});(0,d.assert)(c)}}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}_onProgress(a){if(void 0===a.total){let b=this._rangeReaders[0];b&&b.onProgress&&b.onProgress({loaded:a.loaded})}else{let c=this._fullRequestReader;c&&c.onProgress&&c.onProgress({loaded:a.loaded,total:a.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(a){let b=this._rangeReaders.indexOf(a);b>=0&&this._rangeReaders.splice(b,1)}getFullReader(){(0,d.assert)(!this._fullRequestReader);let a=this._queuedChunks;return this._queuedChunks=null,new f(this,a,this._progressiveDone)}getRangeReader(a,b){if(b<=this._progressiveDataLength)return null;let c=new g(this,a,b);return this._pdfDataRangeTransport.requestDataRange(a,b),this._rangeReaders.push(c),c}cancelAllRequests(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);let b=this._rangeReaders.slice(0);b.forEach(function(b){b.cancel(a)}),this._pdfDataRangeTransport.abort()}}b.PDFDataTransportStream=e;class f{constructor(a,b,c=!1){for(let d of(this._stream=a,this._done=c||!1,this._filename=null,this._queuedChunks=b||[],this._loaded=0,this._queuedChunks))this._loaded+=d.byteLength;this._requests=[],this._headersReady=Promise.resolve(),a._fullRequestReader=this,this.onProgress=null}_enqueue(a){if(!this._done){if(this._requests.length>0){let b=this._requests.shift();b.resolve({value:a,done:!1})}else this._queuedChunks.push(a);this._loaded+=a.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){let a=this._queuedChunks.shift();return{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};let b=(0,d.createPromiseCapability)();return this._requests.push(b),b.promise}cancel(a){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]}progressiveDone(){!this._done&&(this._done=!0)}}class g{constructor(a,b,c){this._stream=a,this._begin=b,this._end=c,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(a){if(!this._done){if(0===this._requests.length)this._queuedChunk=a;else{let b=this._requests.shift();b.resolve({value:a,done:!1}),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[]}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){let a=this._queuedChunk;return this._queuedChunk=null,{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};let b=(0,d.createPromiseCapability)();return this._requests.push(b),b.promise}cancel(a){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.WebGLContext=void 0;var d=c(1);class e{constructor({enable:a=!1}){this._enabled=!0===a}get isEnabled(){let a=this._enabled;return a&&(a=f.tryInitGL()),(0,d.shadow)(this,"isEnabled",a)}composeSMask({layer:a,mask:b,properties:c}){return f.composeSMask(a,b,c)}drawFigures({width:a,height:b,backgroundColor:c,figures:d,context:e}){return f.drawFigures(a,b,c,d,e)}clear(){f.cleanup()}}b.WebGLContext=e;var f=function(){function a(a,b,c){var d=a.createShader(c);if(a.shaderSource(d,b),a.compileShader(d),!a.getShaderParameter(d,a.COMPILE_STATUS))throw Error("Error during shader compilation: "+a.getShaderInfoLog(d));return d}function b(b,c){return a(b,c,b.VERTEX_SHADER)}function c(b,c){return a(b,c,b.FRAGMENT_SHADER)}function d(a,b){for(var c=a.createProgram(),d=0,e=b.length;d<e;++d)a.attachShader(c,b[d]);if(a.linkProgram(c),!a.getProgramParameter(c,a.LINK_STATUS))throw Error("Error during program linking: "+a.getProgramInfoLog(c));return c}function e(a,b,c){a.activeTexture(c);var d=a.createTexture();return a.bindTexture(a.TEXTURE_2D,d),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b),d}function f(){!g&&(g=(h=document.createElement("canvas")).getContext("webgl",{premultipliedalpha:!1}))}var g,h,i="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",j="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",k=null;function l(){f(),a=h,h=null,g=null;var a,e,l=b(e=g,i),m=c(e,j),n=d(e,[l,m]);e.useProgram(n);var o={};o.gl=e,o.canvas=a,o.resolutionLocation=e.getUniformLocation(n,"u_resolution"),o.positionLocation=e.getAttribLocation(n,"a_position"),o.backdropLocation=e.getUniformLocation(n,"u_backdrop"),o.subtypeLocation=e.getUniformLocation(n,"u_subtype");var p=e.getAttribLocation(n,"a_texCoord"),q=e.getUniformLocation(n,"u_image"),r=e.getUniformLocation(n,"u_mask"),s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),e.STATIC_DRAW),e.enableVertexAttribArray(p),e.vertexAttribPointer(p,2,e.FLOAT,!1,0,0),e.uniform1i(q,0),e.uniform1i(r,1),k=o}function m(a,b,c){var d=a.width,f=a.height;k||l();var g=k,h=g.canvas,i=g.gl;h.width=d,h.height=f,i.viewport(0,0,i.drawingBufferWidth,i.drawingBufferHeight),i.uniform2f(g.resolutionLocation,d,f),c.backdrop?i.uniform4f(g.resolutionLocation,c.backdrop[0],c.backdrop[1],c.backdrop[2],1):i.uniform4f(g.resolutionLocation,0,0,0,0),i.uniform1i(g.subtypeLocation,"Luminosity"===c.subtype?1:0);var j=e(i,a,i.TEXTURE0),m=e(i,b,i.TEXTURE1),n=i.createBuffer();return i.bindBuffer(i.ARRAY_BUFFER,n),i.bufferData(i.ARRAY_BUFFER,new Float32Array([0,0,d,0,0,f,0,f,d,0,d,f]),i.STATIC_DRAW),i.enableVertexAttribArray(g.positionLocation),i.vertexAttribPointer(g.positionLocation,2,i.FLOAT,!1,0,0),i.clearColor(0,0,0,0),i.enable(i.BLEND),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),i.clear(i.COLOR_BUFFER_BIT),i.drawArrays(i.TRIANGLES,0,6),i.flush(),i.deleteTexture(j),i.deleteTexture(m),i.deleteBuffer(n),h}var n="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",o="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",p=null;function q(){f(),a=h,h=null,g=null;var a,e,i=b(e=g,n),j=c(e,o),k=d(e,[i,j]);e.useProgram(k);var l={};l.gl=e,l.canvas=a,l.resolutionLocation=e.getUniformLocation(k,"u_resolution"),l.scaleLocation=e.getUniformLocation(k,"u_scale"),l.offsetLocation=e.getUniformLocation(k,"u_offset"),l.positionLocation=e.getAttribLocation(k,"a_position"),l.colorLocation=e.getAttribLocation(k,"a_color"),p=l}function r(a,b,c,d,e){p||q();var f,g,h,i=p,j=i.canvas,k=i.gl;j.width=a,j.height=b,k.viewport(0,0,k.drawingBufferWidth,k.drawingBufferHeight),k.uniform2f(i.resolutionLocation,a,b);var l=0;for(f=0,g=d.length;f<g;f++)switch(d[f].type){case"lattice":l+=((h=d[f].coords.length/d[f].verticesPerRow|0)-1)*(d[f].verticesPerRow-1)*6;break;case"triangles":l+=d[f].coords.length}var m=new Float32Array(2*l),n=new Uint8Array(3*l),o=e.coords,r=e.colors,s=0,t=0;for(f=0,g=d.length;f<g;f++){var u=d[f],v=u.coords,w=u.colors;switch(u.type){case"lattice":var x=u.verticesPerRow;h=v.length/x|0;for(var y=1;y<h;y++)for(var z=y*x+1,A=1;A<x;A++,z++)m[s]=o[v[z-x-1]],m[s+1]=o[v[z-x-1]+1],m[s+2]=o[v[z-x]],m[s+3]=o[v[z-x]+1],m[s+4]=o[v[z-1]],m[s+5]=o[v[z-1]+1],n[t]=r[w[z-x-1]],n[t+1]=r[w[z-x-1]+1],n[t+2]=r[w[z-x-1]+2],n[t+3]=r[w[z-x]],n[t+4]=r[w[z-x]+1],n[t+5]=r[w[z-x]+2],n[t+6]=r[w[z-1]],n[t+7]=r[w[z-1]+1],n[t+8]=r[w[z-1]+2],m[s+6]=m[s+2],m[s+7]=m[s+3],m[s+8]=m[s+4],m[s+9]=m[s+5],m[s+10]=o[v[z]],m[s+11]=o[v[z]+1],n[t+9]=n[t+3],n[t+10]=n[t+4],n[t+11]=n[t+5],n[t+12]=n[t+6],n[t+13]=n[t+7],n[t+14]=n[t+8],n[t+15]=r[w[z]],n[t+16]=r[w[z]+1],n[t+17]=r[w[z]+2],s+=12,t+=18;break;case"triangles":for(var B=0,C=v.length;B<C;B++)m[s]=o[v[B]],m[s+1]=o[v[B]+1],n[t]=r[w[B]],n[t+1]=r[w[B]+1],n[t+2]=r[w[B]+2],s+=2,t+=3}}c?k.clearColor(c[0]/255,c[1]/255,c[2]/255,1):k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT);var D=k.createBuffer();k.bindBuffer(k.ARRAY_BUFFER,D),k.bufferData(k.ARRAY_BUFFER,m,k.STATIC_DRAW),k.enableVertexAttribArray(i.positionLocation),k.vertexAttribPointer(i.positionLocation,2,k.FLOAT,!1,0,0);var E=k.createBuffer();return k.bindBuffer(k.ARRAY_BUFFER,E),k.bufferData(k.ARRAY_BUFFER,n,k.STATIC_DRAW),k.enableVertexAttribArray(i.colorLocation),k.vertexAttribPointer(i.colorLocation,3,k.UNSIGNED_BYTE,!1,0,0),k.uniform2f(i.scaleLocation,e.scaleX,e.scaleY),k.uniform2f(i.offsetLocation,e.offsetX,e.offsetY),k.drawArrays(k.TRIANGLES,0,l),k.flush(),k.deleteBuffer(D),k.deleteBuffer(E),j}return{tryInitGL(){try{return f(),!!g}catch(a){}return!1},composeSMask:m,drawFigures:r,cleanup(){k&&k.canvas&&(k.canvas.width=0,k.canvas.height=0),p&&p.canvas&&(p.canvas.width=0,p.canvas.height=0),k=null,p=null}}}()},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.renderTextLayer=void 0;var d=c(1),e=function(){var a=1e5,b=/\S/;function c(a){return!b.test(a)}function e(a,b,e){var f=document.createElement("span"),g={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(a._textDivs.push(f),c(b.str)){g.isWhitespace=!0,a._textDivProperties.set(f,g);return}var h=d.Util.transform(a._viewport.transform,b.transform),i=Math.atan2(h[1],h[0]),j=e[b.fontName];j.vertical&&(i+=Math.PI/2);var k=Math.sqrt(h[2]*h[2]+h[3]*h[3]),l=k;j.ascent?l=j.ascent*l:j.descent&&(l=(1+j.descent)*l);let m,n;if(0===i?(m=h[4],n=h[5]-l):(m=h[4]+l*Math.sin(i),n=h[5]-l*Math.cos(i)),f.style.left=`${m}px`,f.style.top=`${n}px`,f.style.fontSize=`${k}px`,f.style.fontFamily=j.fontFamily,f.textContent=b.str,a._fontInspectorEnabled&&(f.dataset.fontName=b.fontName),0!==i&&(g.angle=i*(180/Math.PI)),b.str.length>1&&(j.vertical?g.canvasWidth=b.height*a._viewport.scale:g.canvasWidth=b.width*a._viewport.scale),a._textDivProperties.set(f,g),a._textContentStream&&a._layoutText(f),a._enhanceTextSelection){var o,p,q=1,r=0;0!==i&&(q=Math.cos(i),r=Math.sin(i));var s=(j.vertical?b.height:b.width)*a._viewport.scale,t=k;0!==i?(o=[q,r,-r,q,m,n],p=d.Util.getAxialAlignedBoundingBox([0,0,s,t],o)):p=[m,n,m+s,n+t],a._bounds.push({left:p[0],top:p[1],right:p[2],bottom:p[3],div:f,size:[s,t],m:o})}}function f(b){if(!b._canceled){var c=b._textDivs,d=b._capability,e=c.length;if(e>a){b._renderingDone=!0,d.resolve();return}if(!b._textContentStream)for(var f=0;f<e;f++)b._layoutText(c[f]);b._renderingDone=!0,d.resolve()}}function g(a){for(var b=a._bounds,c=a._viewport,e=h(c.width,c.height,b),f=0;f<e.length;f++){var g=b[f].div,i=a._textDivProperties.get(g);if(0===i.angle){i.paddingLeft=b[f].left-e[f].left,i.paddingTop=b[f].top-e[f].top,i.paddingRight=e[f].right-b[f].right,i.paddingBottom=e[f].bottom-b[f].bottom,a._textDivProperties.set(g,i);continue}var j=e[f],k=b[f],l=k.m,m=l[0],n=l[1],o=[[0,0],[0,k.size[1]],[k.size[0],0],k.size],p=new Float64Array(64);o.forEach(function(a,b){var c=d.Util.applyTransform(a,l);p[b+0]=m&&(j.left-c[0])/m,p[b+4]=n&&(j.top-c[1])/n,p[b+8]=m&&(j.right-c[0])/m,p[b+12]=n&&(j.bottom-c[1])/n,p[b+16]=n&&-((j.left-c[0])/n),p[b+20]=m&&(j.top-c[1])/m,p[b+24]=n&&-((j.right-c[0])/n),p[b+28]=m&&(j.bottom-c[1])/m,p[b+32]=m&&-((j.left-c[0])/m),p[b+36]=n&&-((j.top-c[1])/n),p[b+40]=m&&-((j.right-c[0])/m),p[b+44]=n&&-((j.bottom-c[1])/n),p[b+48]=n&&(j.left-c[0])/n,p[b+52]=m&&-((j.top-c[1])/m),p[b+56]=n&&(j.right-c[0])/n,p[b+60]=m&&-((j.bottom-c[1])/m)});var q=function(a,b,c){for(var d=0,e=0;e<c;e++){var f=a[b++];f>0&&(d=d?Math.min(f,d):f)}return d},r=1+Math.min(Math.abs(m),Math.abs(n));i.paddingLeft=q(p,32,16)/r,i.paddingTop=q(p,48,16)/r,i.paddingRight=q(p,0,16)/r,i.paddingBottom=q(p,16,16)/r,a._textDivProperties.set(g,i)}}function h(a,b,c){var d=c.map(function(a,b){return{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom,index:b,x1New:void 0,x2New:void 0}});i(a,d);var e=Array(c.length);return d.forEach(function(a){e[a.index]={left:a.x1New,top:0,right:a.x2New,bottom:0}}),c.map(function(b,c){var f=e[c],g=d[c];g.x1=b.top,g.y1=a-f.right,g.x2=b.bottom,g.y2=a-f.left,g.index=c,g.x1New=void 0,g.x2New=void 0}),i(b,d),d.forEach(function(a){var b=a.index;e[b].top=a.x1New,e[b].bottom=a.x2New}),e}function i(a,b){b.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var c=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];b.forEach(function(a){for(var b,d=0;d<c.length&&c[d].end<=a.y1;)d++;for(var e=c.length-1;e>=0&&c[e].start>=a.y2;)e--;var f,g,h,i,j=-1/0;for(h=d;h<=e;h++)(b=(g=(f=c[h]).boundary).x2>a.x1?g.index>a.index?g.x1New:a.x1:void 0===g.x2New?(g.x2+a.x1)/2:g.x2New)>j&&(j=b);for(a.x1New=j,h=d;h<=e;h++)void 0===(g=(f=c[h]).boundary).x2New?g.x2>a.x1?g.index>a.index&&(g.x2New=g.x2):g.x2New=j:g.x2New>j&&(g.x2New=Math.max(j,g.x2));var k=[],l=null;for(h=d;h<=e;h++){var m=(g=(f=c[h]).boundary).x2>a.x2?g:a;l===m?k[k.length-1].end=f.end:(k.push({start:f.start,end:f.end,boundary:m}),l=m)}for(c[d].start<a.y1&&(k[0].start=a.y1,k.unshift({start:c[d].start,end:a.y1,boundary:c[d].boundary})),a.y2<c[e].end&&(k[k.length-1].end=a.y2,k.push({start:a.y2,end:c[e].end,boundary:c[e].boundary})),h=d;h<=e;h++)if(void 0===(g=(f=c[h]).boundary).x2New){var n=!1;for(i=d-1;!n&&i>=0&&c[i].start>=g.y1;i--)n=c[i].boundary===g;for(i=e+1;!n&&i<c.length&&c[i].end<=g.y2;i++)n=c[i].boundary===g;for(i=0;!n&&i<k.length;i++)n=k[i].boundary===g;n||(g.x2New=j)}Array.prototype.splice.apply(c,[d,e-d+1].concat(k))}),c.forEach(function(b){var c=b.boundary;void 0===c.x2New&&(c.x2New=Math.max(a,c.x2))})}function j({textContent:a,textContentStream:b,container:c,viewport:e,textDivs:f,textContentItemsStr:g,enhanceTextSelection:h}){this._textContent=a,this._textContentStream=b,this._container=c,this._viewport=e,this._textDivs=f||[],this._textContentItemsStr=g||[],this._enhanceTextSelection=!!h,this._fontInspectorEnabled=!!(globalThis.FontInspector&&globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,d.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}function k(a){var b=new j({textContent:a.textContent,textContentStream:a.textContentStream,container:a.container,viewport:a.viewport,textDivs:a.textDivs,textContentItemsStr:a.textContentItemsStr,enhanceTextSelection:a.enhanceTextSelection});return b._render(a.timeout),b}return j.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new d.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(Error("TextLayer task cancelled."))},_processItems(a,b){for(let c=0,d=a.length;c<d;c++)this._textContentItemsStr.push(a[c].str),e(this,a[c],b)},_layoutText(a){let b=this._textDivProperties.get(a);if(b.isWhitespace)return;let c="";if(0!==b.canvasWidth){let{fontSize:d,fontFamily:e}=a.style;(d!==this._layoutTextLastFontSize||e!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${d} ${e}`,this._layoutTextLastFontSize=d,this._layoutTextLastFontFamily=e);let{width:f}=this._layoutTextCtx.measureText(a.textContent);f>0&&(b.scale=b.canvasWidth/f,c=`scaleX(${b.scale})`)}0!==b.angle&&(c=`rotate(${b.angle}deg) ${c}`),c.length>0&&(this._enhanceTextSelection&&(b.originalTransform=c),a.style.transform=c),this._textDivProperties.set(a,b),this._container.appendChild(a)},_render:function(a){let b=(0,d.createPromiseCapability)(),c=Object.create(null),e=document.createElement("canvas");if(e.mozOpaque=!0,this._layoutTextCtx=e.getContext("2d",{alpha:!1}),this._textContent){let g=this._textContent.items,h=this._textContent.styles;this._processItems(g,h),b.resolve()}else if(this._textContentStream){let i=()=>{this._reader.read().then(({value:a,done:d})=>{if(d){b.resolve();return}Object.assign(c,a.styles),this._processItems(a.items,c),i()},b.reject)};this._reader=this._textContentStream.getReader(),i()}else throw Error('Neither "textContent" nor "textContentStream" parameters specified.');b.promise.then(()=>{c=null,a?this._renderTimer=setTimeout(()=>{f(this),this._renderTimer=null},a):f(this)},this._capability.reject)},expandTextDivs:function(a){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(g(this),this._bounds=null);let b=[],c=[];for(var d=0,e=this._textDivs.length;d<e;d++){let f=this._textDivs[d],h=this._textDivProperties.get(f);!h.isWhitespace&&(a?(b.length=0,c.length=0,h.originalTransform&&b.push(h.originalTransform),h.paddingTop>0?(c.push(`${h.paddingTop}px`),b.push(`translateY(${-h.paddingTop}px)`)):c.push(0),h.paddingRight>0?c.push(`${h.paddingRight/h.scale}px`):c.push(0),h.paddingBottom>0?c.push(`${h.paddingBottom}px`):c.push(0),h.paddingLeft>0?(c.push(`${h.paddingLeft/h.scale}px`),b.push(`translateX(${-h.paddingLeft/h.scale}px)`)):c.push(0),f.style.padding=c.join(" "),b.length&&(f.style.transform=b.join(" "))):(f.style.padding=null,f.style.transform=h.originalTransform))}}},k}();b.renderTextLayer=e},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AnnotationLayer=void 0;var d=c(4),e=c(1);class f{static create(a){let b=a.data.annotationType;switch(b){case e.AnnotationType.LINK:return new h(a);case e.AnnotationType.TEXT:return new i(a);case e.AnnotationType.WIDGET:let c=a.data.fieldType;switch(c){case"Tx":return new k(a);case"Btn":if(a.data.radioButton)return new m(a);if(a.data.checkBox)return new l(a);return new n(a);case"Ch":return new o(a)}return new j(a);case e.AnnotationType.POPUP:return new p(a);case e.AnnotationType.FREETEXT:return new r(a);case e.AnnotationType.LINE:return new s(a);case e.AnnotationType.SQUARE:return new t(a);case e.AnnotationType.CIRCLE:return new u(a);case e.AnnotationType.POLYLINE:return new v(a);case e.AnnotationType.CARET:return new x(a);case e.AnnotationType.INK:return new y(a);case e.AnnotationType.POLYGON:return new w(a);case e.AnnotationType.HIGHLIGHT:return new z(a);case e.AnnotationType.UNDERLINE:return new A(a);case e.AnnotationType.SQUIGGLY:return new B(a);case e.AnnotationType.STRIKEOUT:return new C(a);case e.AnnotationType.STAMP:return new D(a);case e.AnnotationType.FILEATTACHMENT:return new E(a);default:return new g(a)}}}class g{constructor(a,b=!1,c=!1){this.isRenderable=b,this.data=a.data,this.layer=a.layer,this.page=a.page,this.viewport=a.viewport,this.linkService=a.linkService,this.downloadManager=a.downloadManager,this.imageResourcesPath=a.imageResourcesPath,this.renderInteractiveForms=a.renderInteractiveForms,this.svgFactory=a.svgFactory,b&&(this.container=this._createContainer(c))}_createContainer(a=!1){let b=this.data,c=this.page,d=this.viewport,f=document.createElement("section"),g=b.rect[2]-b.rect[0],h=b.rect[3]-b.rect[1];f.setAttribute("data-annotation-id",b.id);let i=e.Util.normalizeRect([b.rect[0],c.view[3]-b.rect[1]+c.view[1],b.rect[2],c.view[3]-b.rect[3]+c.view[1]]);if(f.style.transform=`matrix(${d.transform.join(",")})`,f.style.transformOrigin=`-${i[0]}px -${i[1]}px`,!a&&b.borderStyle.width>0){f.style.borderWidth=`${b.borderStyle.width}px`,b.borderStyle.style!==e.AnnotationBorderStyleType.UNDERLINE&&(g-=2*b.borderStyle.width,h-=2*b.borderStyle.width);let j=b.borderStyle.horizontalCornerRadius,k=b.borderStyle.verticalCornerRadius;if(j>0||k>0){let l=`${j}px / ${k}px`;f.style.borderRadius=l}switch(b.borderStyle.style){case e.AnnotationBorderStyleType.SOLID:f.style.borderStyle="solid";break;case e.AnnotationBorderStyleType.DASHED:f.style.borderStyle="dashed";break;case e.AnnotationBorderStyleType.BEVELED:(0,e.warn)("Unimplemented border style: beveled");break;case e.AnnotationBorderStyleType.INSET:(0,e.warn)("Unimplemented border style: inset");break;case e.AnnotationBorderStyleType.UNDERLINE:f.style.borderBottomStyle="solid"}b.color?f.style.borderColor=e.Util.makeCssRgb(0|b.color[0],0|b.color[1],0|b.color[2]):f.style.borderWidth=0}return f.style.left=`${i[0]}px`,f.style.top=`${i[1]}px`,f.style.width=`${g}px`,f.style.height=`${h}px`,f}_createPopup(a,b,c){b||((b=document.createElement("div")).style.height=a.style.height,b.style.width=a.style.width,a.appendChild(b));let d=new q({container:a,trigger:b,color:c.color,title:c.title,modificationDate:c.modificationDate,contents:c.contents,hideWrapper:!0}),e=d.render();e.style.left=a.style.width,a.appendChild(e)}render(){(0,e.unreachable)("Abstract method `AnnotationElement.render` called")}}class h extends g{constructor(a){let b=!!(a.data.url||a.data.dest||a.data.action);super(a,b)}render(){this.container.className="linkAnnotation";let{data:a,linkService:b}=this,c=document.createElement("a");return a.url?(0,d.addLinkAttributes)(c,{url:a.url,target:a.newWindow?d.LinkTarget.BLANK:b.externalLinkTarget,rel:b.externalLinkRel,enabled:b.externalLinkEnabled}):a.action?this._bindNamedAction(c,a.action):this._bindLink(c,a.dest),this.container.appendChild(c),this.container}_bindLink(a,b){a.href=this.linkService.getDestinationHash(b),a.onclick=()=>(b&&this.linkService.navigateTo(b),!1),b&&(a.className="internalLink")}_bindNamedAction(a,b){a.href=this.linkService.getAnchorUrl(""),a.onclick=()=>(this.linkService.executeNamedAction(b),!1),a.className="internalLink"}}class i extends g{constructor(a){let b=!!(a.data.hasPopup||a.data.title||a.data.contents);super(a,b)}render(){this.container.className="textAnnotation";let a=document.createElement("img");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",a.alt="[{{type}} Annotation]",a.dataset.l10nId="text_annotation_type",a.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,a,this.data),this.container.appendChild(a),this.container}}class j extends g{render(){return this.container}}class k extends j{constructor(a){let b=a.renderInteractiveForms|| !a.data.hasAppearance&&!!a.data.fieldValue;super(a,b)}render(){let a=["left","center","right"];this.container.className="textWidgetAnnotation";let b=null;if(this.renderInteractiveForms){if(this.data.multiLine?(b=document.createElement("textarea")).textContent=this.data.fieldValue:((b=document.createElement("input")).type="text",b.setAttribute("value",this.data.fieldValue)),b.disabled=this.data.readOnly,null!==this.data.maxLen&&(b.maxLength=this.data.maxLen),this.data.comb){let c=this.data.rect[2]-this.data.rect[0],d=c/this.data.maxLen;b.classList.add("comb"),b.style.letterSpacing=`calc(${d}px - 1ch)`}}else{(b=document.createElement("div")).textContent=this.data.fieldValue,b.style.verticalAlign="middle",b.style.display="table-cell";let e=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(e=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(b,e)}return null!==this.data.textAlignment&&(b.style.textAlign=a[this.data.textAlignment]),this.container.appendChild(b),this.container}_setTextStyle(a,b){let c=a.style;if(c.fontSize=`${this.data.fontSize}px`,c.direction=this.data.fontDirection<0?"rtl":"ltr",!b)return;let d="normal";b.black?d="900":b.bold&&(d="bold"),c.fontWeight=d,c.fontStyle=b.italic?"italic":"normal";let e=b.loadedName?`"${b.loadedName}", `:"",f=b.fallbackName||"Helvetica, sans-serif";c.fontFamily=e+f}}class l extends j{constructor(a){super(a,a.renderInteractiveForms)}render(){this.container.className="buttonWidgetAnnotation checkBox";let a=document.createElement("input");return a.disabled=this.data.readOnly,a.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&a.setAttribute("checked",!0),this.container.appendChild(a),this.container}}class m extends j{constructor(a){super(a,a.renderInteractiveForms)}render(){this.container.className="buttonWidgetAnnotation radioButton";let a=document.createElement("input");return a.disabled=this.data.readOnly,a.type="radio",a.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&a.setAttribute("checked",!0),this.container.appendChild(a),this.container}}class n extends h{render(){let a=super.render();return a.className="buttonWidgetAnnotation pushButton",a}}class o extends j{constructor(a){super(a,a.renderInteractiveForms)}render(){this.container.className="choiceWidgetAnnotation";let a=document.createElement("select");for(let b of(a.disabled=this.data.readOnly,!this.data.combo&&(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),this.data.options)){let c=document.createElement("option");c.textContent=b.displayValue,c.value=b.exportValue,this.data.fieldValue.includes(b.displayValue)&&c.setAttribute("selected",!0),a.appendChild(c)}return this.container.appendChild(a),this.container}}class p extends g{constructor(a){let b=!!(a.data.title||a.data.contents);super(a,b)}render(){let a=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",a.includes(this.data.parentType))return this.container;let b=`[data-annotation-id="${this.data.parentId}"]`,c=this.layer.querySelector(b);if(!c)return this.container;let d=new q({container:this.container,trigger:c,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),e=parseFloat(c.style.left),f=parseFloat(c.style.width);return this.container.style.transformOrigin=`-${e+f}px -${c.style.top}`,this.container.style.left=`${e+f}px`,this.container.appendChild(d.render()),this.container}}class q{constructor(a){this.container=a.container,this.trigger=a.trigger,this.color=a.color,this.title=a.title,this.modificationDate=a.modificationDate,this.contents=a.contents,this.hideWrapper=a.hideWrapper||!1,this.pinned=!1}render(){let a=.7,b=document.createElement("div");b.className="popupWrapper",this.hideElement=this.hideWrapper?b:this.container,this.hideElement.setAttribute("hidden",!0);let c=document.createElement("div");c.className="popup";let f=this.color;if(f){let g=a*(255-f[0])+f[0],h=a*(255-f[1])+f[1],i=a*(255-f[2])+f[2];c.style.backgroundColor=e.Util.makeCssRgb(0|g,0|h,0|i)}let j=document.createElement("h1");j.textContent=this.title,c.appendChild(j);let k=d.PDFDateString.toDateObject(this.modificationDate);if(k){let l=document.createElement("span");l.textContent="{{date}}, {{time}}",l.dataset.l10nId="annotation_date_string",l.dataset.l10nArgs=JSON.stringify({date:k.toLocaleDateString(),time:k.toLocaleTimeString()}),c.appendChild(l)}let m=this._formatContents(this.contents);return c.appendChild(m),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),c.addEventListener("click",this._hide.bind(this,!0)),b.appendChild(c),b}_formatContents(a){let b=document.createElement("p"),c=a.split(/(?:\r\n?|\n)/);for(let d=0,e=c.length;d<e;++d){let f=c[d];b.appendChild(document.createTextNode(f)),d<e-1&&b.appendChild(document.createElement("br"))}return b}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(a=!1){a&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}_hide(a=!0){a&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}class r extends g{constructor(a){let b=!!(a.data.hasPopup||a.data.title||a.data.contents);super(a,b,!0)}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class s extends g{constructor(a){let b=!!(a.data.hasPopup||a.data.title||a.data.contents);super(a,b,!0)}render(){this.container.className="lineAnnotation";let a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=this.svgFactory.createElement("svg:line");return e.setAttribute("x1",a.rect[2]-a.lineCoordinates[0]),e.setAttribute("y1",a.rect[3]-a.lineCoordinates[1]),e.setAttribute("x2",a.rect[2]-a.lineCoordinates[2]),e.setAttribute("y2",a.rect[3]-a.lineCoordinates[3]),e.setAttribute("stroke-width",a.borderStyle.width||1),e.setAttribute("stroke","transparent"),d.appendChild(e),this.container.append(d),this._createPopup(this.container,e,a),this.container}}class t extends g{constructor(a){let b=!!(a.data.hasPopup||a.data.title||a.data.contents);super(a,b,!0)}render(){this.container.className="squareAnnotation";let a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:rect");return f.setAttribute("x",e/2),f.setAttribute("y",e/2),f.setAttribute("width",b-e),f.setAttribute("height",c-e),f.setAttribute("stroke-width",e||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","none"),d.appendChild(f),this.container.append(d),this._createPopup(this.container,f,a),this.container}}class u extends g{constructor(a){let b=!!(a.data.hasPopup||a.data.title||a.data.contents);super(a,b,!0)}render(){this.container.className="circleAnnotation";let a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=a.borderStyle.width,f=this.svgFactory.createElement("svg:ellipse");return f.setAttribute("cx",b/2),f.setAttribute("cy",c/2),f.setAttribute("rx",b/2-e/2),f.setAttribute("ry",c/2-e/2),f.setAttribute("stroke-width",e||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","none"),d.appendChild(f),this.container.append(d),this._createPopup(this.container,f,a),this.container}}class v extends g{constructor(a){let b=!!(a.data.hasPopup||a.data.title||a.data.contents);super(a,b,!0),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c),e=[];for(let f of a.vertices){let g=f.x-a.rect[0],h=a.rect[3]-f.y;e.push(g+","+h)}e=e.join(" ");let i=this.svgFactory.createElement(this.svgElementName);return i.setAttribute("points",e),i.setAttribute("stroke-width",a.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","none"),d.appendChild(i),this.container.append(d),this._createPopup(this.container,i,a),this.container}}class w extends v{constructor(a){super(a),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class x extends g{constructor(a){let b=!!(a.data.hasPopup||a.data.title||a.data.contents);super(a,b,!0)}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class y extends g{constructor(a){let b=!!(a.data.hasPopup||a.data.title||a.data.contents);super(a,b,!0),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let a=this.data,b=a.rect[2]-a.rect[0],c=a.rect[3]-a.rect[1],d=this.svgFactory.create(b,c);for(let e of a.inkLists){let f=[];for(let g of e){let h=g.x-a.rect[0],i=a.rect[3]-g.y;f.push(`${h},${i}`)}f=f.join(" ");let j=this.svgFactory.createElement(this.svgElementName);j.setAttribute("points",f),j.setAttribute("stroke-width",a.borderStyle.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","none"),this._createPopup(this.container,j,a),d.appendChild(j)}return this.container.append(d),this.container}}class z extends g{constructor(a){let b=!!(a.data.hasPopup||a.data.title||a.data.contents);super(a,b,!0)}render(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class A extends g{constructor(a){let b=!!(a.data.hasPopup||a.data.title||a.data.contents);super(a,b,!0)}render(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class B extends g{constructor(a){let b=!!(a.data.hasPopup||a.data.title||a.data.contents);super(a,b,!0)}render(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class C extends g{constructor(a){let b=!!(a.data.hasPopup||a.data.title||a.data.contents);super(a,b,!0)}render(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class D extends g{constructor(a){let b=!!(a.data.hasPopup||a.data.title||a.data.contents);super(a,b,!0)}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}class E extends g{constructor(a){super(a,!0);let{filename:b,content:c}=this.data.file;this.filename=(0,d.getFilenameFromUrl)(b),this.content=c,this.linkService.eventBus&&this.linkService.eventBus.dispatch("fileattachmentannotation",{source:this,id:(0,e.stringToPDFString)(b),filename:b,content:c})}render(){this.container.className="fileAttachmentAnnotation";let a=document.createElement("div");return a.style.height=this.container.style.height,a.style.width=this.container.style.width,a.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(this.container,a,this.data),this.container.appendChild(a),this.container}_download(){if(!this.downloadManager){(0,e.warn)("Download cannot be started due to unavailable download manager");return}this.downloadManager.downloadData(this.content,this.filename,"")}}class F{static render(a){let b=[],c=[];for(let g of a.annotations)if(g){if(g.annotationType===e.AnnotationType.POPUP){c.push(g);continue}b.push(g)}for(let h of(c.length&&b.push(...c),b)){let i=f.create({data:h,layer:a.div,page:a.page,viewport:a.viewport,linkService:a.linkService,downloadManager:a.downloadManager,imageResourcesPath:a.imageResourcesPath||"",renderInteractiveForms:a.renderInteractiveForms||!1,svgFactory:new d.DOMSVGFactory});i.isRenderable&&a.div.appendChild(i.render())}}static update(a){for(let b of a.annotations){let c=a.div.querySelector(`[data-annotation-id="${b.id}"]`);c&&(c.style.transform=`matrix(${a.viewport.transform.join(",")})`)}a.div.removeAttribute("hidden")}}b.AnnotationLayer=F},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SVGGraphics=void 0;var d=c(1),e=c(4),f=c(7);let g=function(){throw Error("Not implemented: SVGGraphics")};b.SVGGraphics=g;{let h={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},i="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/1999/xlink",k=["butt","round","square"],l=["miter","round","bevel"],m=function(){let a=new Uint8Array([137,80,78,71,13,10,26,10]),b=12,c=new Int32Array(256);for(let e=0;e<256;e++){let g=e;for(let h=0;h<8;h++)g=1&g?3988292384^g>>1&2147483647:g>>1&2147483647;c[e]=g}function i(a,b,d){let e=-1;for(let f=b;f<d;f++){let g=(e^a[f])&255,h=c[g];e=e>>>8^h}return -1^e}function j(a,b,c,d){let e=d,f=b.length;c[e]=f>>24&255,c[e+1]=f>>16&255,c[e+2]=f>>8&255,c[e+3]=255&f,c[e+=4]=255&a.charCodeAt(0),c[e+1]=255&a.charCodeAt(1),c[e+2]=255&a.charCodeAt(2),c[e+3]=255&a.charCodeAt(3),e+=4,c.set(b,e),e+=b.length;let g=i(c,d+4,e);c[e]=g>>24&255,c[e+1]=g>>16&255,c[e+2]=g>>8&255,c[e+3]=255&g}function k(a,b,c){let d=1,e=0;for(let f=b;f<c;++f)e=(e+(d=(d+(255&a[f]))%65521))%65521;return e<<16|d}function l(a){if(!f.isNodeJS)return m(a);try{let b;b=parseInt(process.versions.node)>=8?a:Buffer.from(a);let c=__webpack_require__(2258).deflateSync(b,{level:9});return c instanceof Uint8Array?c:new Uint8Array(c)}catch(e){(0,d.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return m(a)}function m(a){let b=a.length,c=65535,d=Math.ceil(b/c),e=new Uint8Array(2+b+5*d+4),f=0;e[f++]=120,e[f++]=156;let g=0;for(;b>c;)e[f++]=0,e[f++]=255,e[f++]=255,e[f++]=0,e[f++]=0,e.set(a.subarray(g,g+c),f),f+=c,g+=c,b-=c;e[f++]=1,e[f++]=255&b,e[f++]=b>>8&255,e[f++]=255& ~b,e[f++]=(65535& ~b)>>8&255,e.set(a.subarray(g),f),f+=a.length-g;let h=k(a,0,a.length);return e[f++]=h>>24&255,e[f++]=h>>16&255,e[f++]=h>>8&255,e[f++]=255&h,e}function n(c,e,f,g){let h=c.width,i=c.height,k,m,n,o=c.data;switch(e){case d.ImageKind.GRAYSCALE_1BPP:m=0,k=1,n=h+7>>3;break;case d.ImageKind.RGB_24BPP:m=2,k=8,n=3*h;break;case d.ImageKind.RGBA_32BPP:m=6,k=8,n=4*h;break;default:throw Error("invalid format")}let p=new Uint8Array((1+n)*i),q=0,r=0;for(let s=0;s<i;++s)p[q++]=0,p.set(o.subarray(r,r+n),q),r+=n,q+=n;if(e===d.ImageKind.GRAYSCALE_1BPP&&g){q=0;for(let t=0;t<i;t++){q++;for(let u=0;u<n;u++)p[q++]^=255}}let v=new Uint8Array([h>>24&255,h>>16&255,h>>8&255,255&h,i>>24&255,i>>16&255,i>>8&255,255&i,k,m,0,0,0]),w=l(p),x=a.length+3*b+v.length+w.length,y=new Uint8Array(x),z=0;return y.set(a,z),j("IHDR",v,y,z+=a.length),j("IDATA",w,y,z+=b+v.length),z+=b+w.length,j("IEND",new Uint8Array(0),y,z),(0,d.createObjectURL)(y,"image/png",f)}return function(a,b,c){let e=void 0===a.kind?d.ImageKind.GRAYSCALE_1BPP:a.kind;return n(a,e,b,c)}}();class n{constructor(){this.fontSizeScale=1,this.fontWeight=h.fontWeight,this.fontSize=0,this.textMatrix=d.IDENTITY_MATRIX,this.fontMatrix=d.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=d.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=h.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(a,b){this.x=a,this.y=b}}function o(a){let b=[],c=[];for(let d of a){if("save"===d.fn){b.push({fnId:92,fn:"group",items:[]}),c.push(b),b=b[b.length-1].items;continue}"restore"===d.fn?b=c.pop():b.push(d)}return b}function p(a){if(Number.isInteger(a))return a.toString();let b=a.toFixed(10),c=b.length-1;if("0"!==b[c])return b;do c--;while("0"===b[c])return b.substring(0,"."===b[c]?c:c+1)}function q(a){if(0===a[4]&&0===a[5]){if(0===a[1]&&0===a[2])return 1===a[0]&&1===a[3]?"":`scale(${p(a[0])} ${p(a[3])})`;if(a[0]===a[3]&&a[1]=== -a[2]){let b=180*Math.acos(a[0])/Math.PI;return`rotate(${p(b)})`}}else if(1===a[0]&&0===a[1]&&0===a[2]&&1===a[3])return`translate(${p(a[4])} ${p(a[5])})`;return`matrix(${p(a[0])} ${p(a[1])} ${p(a[2])} ${p(a[3])} ${p(a[4])} ${p(a[5])})`}let r=0,s=0,t=0;b.SVGGraphics=g=class{constructor(a,b,c){for(let f in this.svgFactory=new e.DOMSVGFactory,this.current=new n,this.transformMatrix=d.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=a,this.objs=b,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!c,this._operatorIdMapping=[],d.OPS)this._operatorIdMapping[d.OPS[f]]=f}save(){this.transformStack.push(this.transformMatrix);let a=this.current;this.extraStack.push(a),this.current=a.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(a){this.save(),this.executeOpTree(a),this.restore()}loadDependencies(a){let b=a.fnArray,c=a.argsArray;for(let e=0,f=b.length;e<f;e++)if(b[e]===d.OPS.dependency)for(let g of c[e]){let h=g.startsWith("g_")?this.commonObjs:this.objs,i=new Promise(a=>{h.get(g,a)});this.current.dependencies.push(i)}return Promise.all(this.current.dependencies)}transform(a,b,c,e,f,g){let h=[a,b,c,e,f,g];this.transformMatrix=d.Util.transform(this.transformMatrix,h),this.tgrp=null}getSVG(a,b){this.viewport=b;let c=this._initialize(b);return this.loadDependencies(a).then(()=>(this.transformMatrix=d.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(a)),c))}convertOpList(a){let b=this._operatorIdMapping,c=a.argsArray,d=a.fnArray,e=[];for(let f=0,g=d.length;f<g;f++){let h=d[f];e.push({fnId:h,fn:b[h],args:c[f]})}return o(e)}executeOpTree(a){for(let b of a){let c=b.fn,e=b.fnId,f=b.args;switch(0|e){case d.OPS.beginText:this.beginText();break;case d.OPS.dependency:break;case d.OPS.setLeading:this.setLeading(f);break;case d.OPS.setLeadingMoveText:this.setLeadingMoveText(f[0],f[1]);break;case d.OPS.setFont:this.setFont(f);break;case d.OPS.showText:case d.OPS.showSpacedText:this.showText(f[0]);break;case d.OPS.endText:this.endText();break;case d.OPS.moveText:this.moveText(f[0],f[1]);break;case d.OPS.setCharSpacing:this.setCharSpacing(f[0]);break;case d.OPS.setWordSpacing:this.setWordSpacing(f[0]);break;case d.OPS.setHScale:this.setHScale(f[0]);break;case d.OPS.setTextMatrix:this.setTextMatrix(f[0],f[1],f[2],f[3],f[4],f[5]);break;case d.OPS.setTextRise:this.setTextRise(f[0]);break;case d.OPS.setTextRenderingMode:this.setTextRenderingMode(f[0]);break;case d.OPS.setLineWidth:this.setLineWidth(f[0]);break;case d.OPS.setLineJoin:this.setLineJoin(f[0]);break;case d.OPS.setLineCap:this.setLineCap(f[0]);break;case d.OPS.setMiterLimit:this.setMiterLimit(f[0]);break;case d.OPS.setFillRGBColor:this.setFillRGBColor(f[0],f[1],f[2]);break;case d.OPS.setStrokeRGBColor:this.setStrokeRGBColor(f[0],f[1],f[2]);break;case d.OPS.setStrokeColorN:this.setStrokeColorN(f);break;case d.OPS.setFillColorN:this.setFillColorN(f);break;case d.OPS.shadingFill:this.shadingFill(f[0]);break;case d.OPS.setDash:this.setDash(f[0],f[1]);break;case d.OPS.setRenderingIntent:this.setRenderingIntent(f[0]);break;case d.OPS.setFlatness:this.setFlatness(f[0]);break;case d.OPS.setGState:this.setGState(f[0]);break;case d.OPS.fill:this.fill();break;case d.OPS.eoFill:this.eoFill();break;case d.OPS.stroke:this.stroke();break;case d.OPS.fillStroke:this.fillStroke();break;case d.OPS.eoFillStroke:this.eoFillStroke();break;case d.OPS.clip:this.clip("nonzero");break;case d.OPS.eoClip:this.clip("evenodd");break;case d.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case d.OPS.paintJpegXObject:this.paintJpegXObject(f[0],f[1],f[2]);break;case d.OPS.paintImageXObject:this.paintImageXObject(f[0]);break;case d.OPS.paintInlineImageXObject:this.paintInlineImageXObject(f[0]);break;case d.OPS.paintImageMaskXObject:this.paintImageMaskXObject(f[0]);break;case d.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(f[0],f[1]);break;case d.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case d.OPS.closePath:this.closePath();break;case d.OPS.closeStroke:this.closeStroke();break;case d.OPS.closeFillStroke:this.closeFillStroke();break;case d.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case d.OPS.nextLine:this.nextLine();break;case d.OPS.transform:this.transform(f[0],f[1],f[2],f[3],f[4],f[5]);break;case d.OPS.constructPath:this.constructPath(f[0],f[1]);break;case d.OPS.endPath:this.endPath();break;case 92:this.group(b.items);break;default:(0,d.warn)(`Unimplemented operator ${c}`)}}}setWordSpacing(a){this.current.wordSpacing=a}setCharSpacing(a){this.current.charSpacing=a}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(a,b,c,d,e,f){let g=this.current;g.textMatrix=g.lineMatrix=[a,b,c,d,e,f],g.textMatrixScale=Math.sqrt(a*a+b*b),g.x=g.lineX=0,g.y=g.lineY=0,g.xcoords=[],g.tspan=this.svgFactory.createElement("svg:tspan"),g.tspan.setAttributeNS(null,"font-family",g.fontFamily),g.tspan.setAttributeNS(null,"font-size",`${p(g.fontSize)}px`),g.tspan.setAttributeNS(null,"y",p(-g.y)),g.txtElement=this.svgFactory.createElement("svg:text"),g.txtElement.appendChild(g.tspan)}beginText(){let a=this.current;a.x=a.lineX=0,a.y=a.lineY=0,a.textMatrix=d.IDENTITY_MATRIX,a.lineMatrix=d.IDENTITY_MATRIX,a.textMatrixScale=1,a.tspan=this.svgFactory.createElement("svg:tspan"),a.txtElement=this.svgFactory.createElement("svg:text"),a.txtgrp=this.svgFactory.createElement("svg:g"),a.xcoords=[]}moveText(a,b){let c=this.current;c.x=c.lineX+=a,c.y=c.lineY+=b,c.xcoords=[],c.tspan=this.svgFactory.createElement("svg:tspan"),c.tspan.setAttributeNS(null,"font-family",c.fontFamily),c.tspan.setAttributeNS(null,"font-size",`${p(c.fontSize)}px`),c.tspan.setAttributeNS(null,"y",p(-c.y))}showText(a){let b=this.current,c=b.font,e=b.fontSize;if(0===e)return;let f=b.charSpacing,g=b.wordSpacing,j=b.fontDirection,k=b.textHScale*j,l=c.vertical,m=e*b.fontMatrix[0],n=0;for(let o of a){if(null===o){n+=j*g;continue}if((0,d.isNum)(o)){n+=-o*e*.001;continue}let r=o.width,s=o.fontChar,t=(o.isSpace?g:0)+f,u=r*m+t*j;if(!o.isInFont&&!c.missingFile){n+=u;continue}b.xcoords.push(b.x+n),b.tspan.textContent+=s,n+=u}l?b.y-=n*k:b.x+=n*k,b.tspan.setAttributeNS(null,"x",b.xcoords.map(p).join(" ")),b.tspan.setAttributeNS(null,"y",p(-b.y)),b.tspan.setAttributeNS(null,"font-family",b.fontFamily),b.tspan.setAttributeNS(null,"font-size",`${p(b.fontSize)}px`),b.fontStyle!==h.fontStyle&&b.tspan.setAttributeNS(null,"font-style",b.fontStyle),b.fontWeight!==h.fontWeight&&b.tspan.setAttributeNS(null,"font-weight",b.fontWeight);let v=b.textRenderingMode&d.TextRenderingMode.FILL_STROKE_MASK;if(v===d.TextRenderingMode.FILL||v===d.TextRenderingMode.FILL_STROKE?(b.fillColor!==h.fillColor&&b.tspan.setAttributeNS(null,"fill",b.fillColor),b.fillAlpha<1&&b.tspan.setAttributeNS(null,"fill-opacity",b.fillAlpha)):b.textRenderingMode===d.TextRenderingMode.ADD_TO_PATH?b.tspan.setAttributeNS(null,"fill","transparent"):b.tspan.setAttributeNS(null,"fill","none"),v===d.TextRenderingMode.STROKE||v===d.TextRenderingMode.FILL_STROKE){let w=1/(b.textMatrixScale||1);this._setStrokeAttributes(b.tspan,w)}let x=b.textMatrix;0!==b.textRise&&(x=x.slice(),x[5]+=b.textRise),b.txtElement.setAttributeNS(null,"transform",`${q(x)} scale(${p(k)}, -1)`),b.txtElement.setAttributeNS(i,"xml:space","preserve"),b.txtElement.appendChild(b.tspan),b.txtgrp.appendChild(b.txtElement),this._ensureTransformGroup().appendChild(b.txtElement)}setLeadingMoveText(a,b){this.setLeading(-b),this.moveText(a,b)}addFontStyle(a){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));let b=(0,d.createObjectURL)(a.data,a.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${a.loadedName}"; src: url(${b}); }
`}setFont(a){let b=this.current,c=this.commonObjs.get(a[0]),e=a[1];b.font=c,this.embedFonts&&c.data&&!this.embeddedFonts[c.loadedName]&&(this.addFontStyle(c),this.embeddedFonts[c.loadedName]=c),b.fontMatrix=c.fontMatrix?c.fontMatrix:d.FONT_IDENTITY_MATRIX;let f="normal";c.black?f="900":c.bold&&(f="bold");let g=c.italic?"italic":"normal";e<0?(e=-e,b.fontDirection=-1):b.fontDirection=1,b.fontSize=e,b.fontFamily=c.loadedName,b.fontWeight=f,b.fontStyle=g,b.tspan=this.svgFactory.createElement("svg:tspan"),b.tspan.setAttributeNS(null,"y",p(-b.y)),b.xcoords=[]}endText(){let a=this.current;a.textRenderingMode&d.TextRenderingMode.ADD_TO_PATH_FLAG&&a.txtElement&&a.txtElement.hasChildNodes()&&(a.element=a.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(a){a>0&&(this.current.lineWidth=a)}setLineCap(a){this.current.lineCap=k[a]}setLineJoin(a){this.current.lineJoin=l[a]}setMiterLimit(a){this.current.miterLimit=a}setStrokeAlpha(a){this.current.strokeAlpha=a}setStrokeRGBColor(a,b,c){this.current.strokeColor=d.Util.makeCssRgb(a,b,c)}setFillAlpha(a){this.current.fillAlpha=a}setFillRGBColor(a,b,c){this.current.fillColor=d.Util.makeCssRgb(a,b,c),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]}setStrokeColorN(a){this.current.strokeColor=this._makeColorN_Pattern(a)}setFillColorN(a){this.current.fillColor=this._makeColorN_Pattern(a)}shadingFill(a){let b=this.viewport.width,c=this.viewport.height,e=d.Util.inverseTransform(this.transformMatrix),f=d.Util.applyTransform([0,0],e),g=d.Util.applyTransform([0,c],e),h=d.Util.applyTransform([b,0],e),i=d.Util.applyTransform([b,c],e),j=Math.min(f[0],g[0],h[0],i[0]),k=Math.min(f[1],g[1],h[1],i[1]),l=Math.max(f[0],g[0],h[0],i[0]),m=Math.max(f[1],g[1],h[1],i[1]),n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x",j),n.setAttributeNS(null,"y",k),n.setAttributeNS(null,"width",l-j),n.setAttributeNS(null,"height",m-k),n.setAttributeNS(null,"fill",this._makeShadingPattern(a)),this._ensureTransformGroup().appendChild(n)}_makeColorN_Pattern(a){return"TilingPattern"===a[0]?this._makeTilingPattern(a):this._makeShadingPattern(a)}_makeTilingPattern(a){let b=a[1],c=a[2],e=a[3]||d.IDENTITY_MATRIX,[f,g,h,i]=a[4],j=a[5],k=a[6],l=a[7],m=`shading${t++}`,[n,o]=d.Util.applyTransform([f,g],e),[p,q]=d.Util.applyTransform([h,i],e),[r,s]=d.Util.singularValueDecompose2dScale(e),u=j*r,v=k*s,w=this.svgFactory.createElement("svg:pattern");w.setAttributeNS(null,"id",m),w.setAttributeNS(null,"patternUnits","userSpaceOnUse"),w.setAttributeNS(null,"width",u),w.setAttributeNS(null,"height",v),w.setAttributeNS(null,"x",`${n}`),w.setAttributeNS(null,"y",`${o}`);let x=this.svg,y=this.transformMatrix,z=this.current.fillColor,A=this.current.strokeColor,B=this.svgFactory.create(p-n,q-o);if(this.svg=B,this.transformMatrix=e,2===l){let C=d.Util.makeCssRgb(...b);this.current.fillColor=C,this.current.strokeColor=C}return this.executeOpTree(this.convertOpList(c)),this.svg=x,this.transformMatrix=y,this.current.fillColor=z,this.current.strokeColor=A,w.appendChild(B.childNodes[0]),this.defs.appendChild(w),`url(#${m})`}_makeShadingPattern(a){switch(a[0]){case"RadialAxial":let b=`shading${t++}`,c=a[3],e;switch(a[1]){case"axial":let f=a[4],g=a[5];(e=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",b),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"x1",f[0]),e.setAttributeNS(null,"y1",f[1]),e.setAttributeNS(null,"x2",g[0]),e.setAttributeNS(null,"y2",g[1]);break;case"radial":let h=a[4],i=a[5],j=a[6],k=a[7];(e=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",b),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"cx",i[0]),e.setAttributeNS(null,"cy",i[1]),e.setAttributeNS(null,"r",k),e.setAttributeNS(null,"fx",h[0]),e.setAttributeNS(null,"fy",h[1]),e.setAttributeNS(null,"fr",j);break;default:throw Error(`Unknown RadialAxial type: ${a[1]}`)}for(let l of c){let m=this.svgFactory.createElement("svg:stop");m.setAttributeNS(null,"offset",l[0]),m.setAttributeNS(null,"stop-color",l[1]),e.appendChild(m)}return this.defs.appendChild(e),`url(#${b})`;case"Mesh":return(0,d.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw Error(`Unknown IR type: ${a[0]}`)}}setDash(a,b){this.current.dashArray=a,this.current.dashPhase=b}constructPath(a,b){let c=this.current,e=c.x,f=c.y,g=[],h=0;for(let i of a)switch(0|i){case d.OPS.rectangle:e=b[h++],f=b[h++];let j=b[h++],k=b[h++],l=e+j,m=f+k;g.push("M",p(e),p(f),"L",p(l),p(f),"L",p(l),p(m),"L",p(e),p(m),"Z");break;case d.OPS.moveTo:e=b[h++],f=b[h++],g.push("M",p(e),p(f));break;case d.OPS.lineTo:e=b[h++],f=b[h++],g.push("L",p(e),p(f));break;case d.OPS.curveTo:e=b[h+4],f=b[h+5],g.push("C",p(b[h]),p(b[h+1]),p(b[h+2]),p(b[h+3]),p(e),p(f)),h+=6;break;case d.OPS.curveTo2:g.push("C",p(e),p(f),p(b[h]),p(b[h+1]),p(b[h+2]),p(b[h+3])),e=b[h+2],f=b[h+3],h+=4;break;case d.OPS.curveTo3:e=b[h+2],f=b[h+3],g.push("C",p(b[h]),p(b[h+1]),p(e),p(f),p(e),p(f)),h+=4;break;case d.OPS.closePath:g.push("Z")}g=g.join(" "),c.path&&a.length>0&&a[0]!==d.OPS.rectangle&&a[0]!==d.OPS.moveTo?g=c.path.getAttributeNS(null,"d")+g:(c.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(c.path)),c.path.setAttributeNS(null,"d",g),c.path.setAttributeNS(null,"fill","none"),c.element=c.path,c.setCurrentPoint(e,f)}endPath(){let a=this.current;if(a.path=null,!this.pendingClip)return;if(!a.element){this.pendingClip=null;return}let b=`clippath${r++}`,c=this.svgFactory.createElement("svg:clipPath");c.setAttributeNS(null,"id",b),c.setAttributeNS(null,"transform",q(this.transformMatrix));let d=a.element.cloneNode(!0);"evenodd"===this.pendingClip?d.setAttributeNS(null,"clip-rule","evenodd"):d.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,c.appendChild(d),this.defs.appendChild(c),a.activeClipUrl&&(a.clipGroup=null,this.extraStack.forEach(function(a){a.clipGroup=null}),c.setAttributeNS(null,"clip-path",a.activeClipUrl)),a.activeClipUrl=`url(#${b})`,this.tgrp=null}clip(a){this.pendingClip=a}closePath(){let a=this.current;if(a.path){let b=`${a.path.getAttributeNS(null,"d")}Z`;a.path.setAttributeNS(null,"d",b)}}setLeading(a){this.current.leading=-a}setTextRise(a){this.current.textRise=a}setTextRenderingMode(a){this.current.textRenderingMode=a}setHScale(a){this.current.textHScale=a/100}setRenderingIntent(a){}setFlatness(a){}setGState(a){for(let[b,c]of a)switch(b){case"LW":this.setLineWidth(c);break;case"LC":this.setLineCap(c);break;case"LJ":this.setLineJoin(c);break;case"ML":this.setMiterLimit(c);break;case"D":this.setDash(c[0],c[1]);break;case"RI":this.setRenderingIntent(c);break;case"FL":this.setFlatness(c);break;case"Font":this.setFont(c);break;case"CA":this.setStrokeAlpha(c);break;case"ca":this.setFillAlpha(c);break;default:(0,d.warn)(`Unimplemented graphic state operator ${b}`)}}fill(){let a=this.current;a.element&&(a.element.setAttributeNS(null,"fill",a.fillColor),a.element.setAttributeNS(null,"fill-opacity",a.fillAlpha),this.endPath())}stroke(){let a=this.current;a.element&&(this._setStrokeAttributes(a.element),a.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(a,b=1){let c=this.current,d=c.dashArray;1!==b&&d.length>0&&(d=d.map(function(a){return b*a})),a.setAttributeNS(null,"stroke",c.strokeColor),a.setAttributeNS(null,"stroke-opacity",c.strokeAlpha),a.setAttributeNS(null,"stroke-miterlimit",p(c.miterLimit)),a.setAttributeNS(null,"stroke-linecap",c.lineCap),a.setAttributeNS(null,"stroke-linejoin",c.lineJoin),a.setAttributeNS(null,"stroke-width",p(b*c.lineWidth)+"px"),a.setAttributeNS(null,"stroke-dasharray",d.map(p).join(" ")),a.setAttributeNS(null,"stroke-dashoffset",p(b*c.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x","0"),a.setAttributeNS(null,"y","0"),a.setAttributeNS(null,"width","1px"),a.setAttributeNS(null,"height","1px"),a.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(a)}paintJpegXObject(a,b,c){let d=this.objs.get(a),e=this.svgFactory.createElement("svg:image");e.setAttributeNS(j,"xlink:href",d.src),e.setAttributeNS(null,"width",p(b)),e.setAttributeNS(null,"height",p(c)),e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y",p(-c)),e.setAttributeNS(null,"transform",`scale(${p(1/b)} ${p(-1/c)})`),this._ensureTransformGroup().appendChild(e)}paintImageXObject(a){let b=this.objs.get(a);if(!b){(0,d.warn)(`Dependent image with object ID ${a} is not ready yet`);return}this.paintInlineImageXObject(b)}paintInlineImageXObject(a,b){let c=a.width,d=a.height,e=m(a,this.forceDataSchema,!!b),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y","0"),f.setAttributeNS(null,"width",p(c)),f.setAttributeNS(null,"height",p(d)),this.current.element=f,this.clip("nonzero");let g=this.svgFactory.createElement("svg:image");g.setAttributeNS(j,"xlink:href",e),g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y",p(-d)),g.setAttributeNS(null,"width",p(c)+"px"),g.setAttributeNS(null,"height",p(d)+"px"),g.setAttributeNS(null,"transform",`scale(${p(1/c)} ${p(-1/d)})`),b?b.appendChild(g):this._ensureTransformGroup().appendChild(g)}paintImageMaskXObject(a){let b=this.current,c=a.width,d=a.height,e=b.fillColor;b.maskId=`mask${s++}`;let f=this.svgFactory.createElement("svg:mask");f.setAttributeNS(null,"id",b.maskId);let g=this.svgFactory.createElement("svg:rect");g.setAttributeNS(null,"x","0"),g.setAttributeNS(null,"y","0"),g.setAttributeNS(null,"width",p(c)),g.setAttributeNS(null,"height",p(d)),g.setAttributeNS(null,"fill",e),g.setAttributeNS(null,"mask",`url(#${b.maskId})`),this.defs.appendChild(f),this._ensureTransformGroup().appendChild(g),this.paintInlineImageXObject(a,f)}paintFormXObjectBegin(a,b){if(Array.isArray(a)&&6===a.length&&this.transform(a[0],a[1],a[2],a[3],a[4],a[5]),b){let c=b[2]-b[0],d=b[3]-b[1],e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x",b[0]),e.setAttributeNS(null,"y",b[1]),e.setAttributeNS(null,"width",p(c)),e.setAttributeNS(null,"height",p(d)),this.current.element=e,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(a){let b=this.svgFactory.create(a.width,a.height),c=this.svgFactory.createElement("svg:defs");b.appendChild(c),this.defs=c;let d=this.svgFactory.createElement("svg:g");return d.setAttributeNS(null,"transform",q(a.transform)),b.appendChild(d),this.svg=d,b}_ensureClipGroup(){if(!this.current.clipGroup){let a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(a),this.current.clipGroup=a}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",q(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PDFNodeStream=void 0;var d=c(1),e=c(20);let f=__webpack_require__(172),g=__webpack_require__(2001),h=__webpack_require__(3779),i=__webpack_require__(1987),j=/^file:\/\/\/[a-zA-Z]:\//;function k(a){let b=i.parse(a);return"file:"===b.protocol||b.host?b:/^[a-z]:[/\\]/i.test(a)?i.parse(`file:///${a}`):(b.host||(b.protocol="file:"),b)}class l{constructor(a){this.source=a,this.url=k(a.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&a.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,d.assert)(!this._fullRequestReader),this._fullRequestReader=this.isFsUrl?new r(this):new p(this),this._fullRequestReader}getRangeReader(a,b){if(b<=this._progressiveDataLength)return null;let c=this.isFsUrl?new s(this,a,b):new q(this,a,b);return this._rangeRequestReaders.push(c),c}cancelAllRequests(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);let b=this._rangeRequestReaders.slice(0);b.forEach(function(b){b.cancel(a)})}}b.PDFNodeStream=l;class m{constructor(a){this._url=a.url,this._done=!1,this._storedError=null,this.onProgress=null;let b=a.source;this._contentLength=b.length,this._loaded=0,this._filename=null,this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._readableStream=null,this._readCapability=(0,d.createPromiseCapability)(),this._headersCapability=(0,d.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let a=this._readableStream.read();if(null===a)return this._readCapability=(0,d.createPromiseCapability)(),this.read();this._loaded+=a.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength});let b=new Uint8Array(a).buffer;return{value:b,done:!1}}cancel(a){if(!this._readableStream){this._error(a);return}this._readableStream.destroy(a)}_error(a){this._storedError=a,this._readCapability.resolve()}_setReadableStream(a){this._readableStream=a,a.on("readable",()=>{this._readCapability.resolve()}),a.on("end",()=>{a.destroy(),this._done=!0,this._readCapability.resolve()}),a.on("error",a=>{this._error(a)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new d.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class n{constructor(a){this._url=a.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,d.createPromiseCapability)();let b=a.source;this._isStreamingSupported=!b.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let a=this._readableStream.read();if(null===a)return this._readCapability=(0,d.createPromiseCapability)(),this.read();this._loaded+=a.length,this.onProgress&&this.onProgress({loaded:this._loaded});let b=new Uint8Array(a).buffer;return{value:b,done:!1}}cancel(a){if(!this._readableStream){this._error(a);return}this._readableStream.destroy(a)}_error(a){this._storedError=a,this._readCapability.resolve()}_setReadableStream(a){this._readableStream=a,a.on("readable",()=>{this._readCapability.resolve()}),a.on("end",()=>{a.destroy(),this._done=!0,this._readCapability.resolve()}),a.on("error",a=>{this._error(a)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function o(a,b){return{protocol:a.protocol,auth:a.auth,host:a.hostname,port:a.port,path:a.path,method:"GET",headers:b}}class p extends m{constructor(a){super(a);let b=b=>{if(404===b.statusCode){let c=new d.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=c,this._headersCapability.reject(c);return}this._headersCapability.resolve(),this._setReadableStream(b);let f=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:g,suggestedLength:h}=(0,e.validateRangeRequestCapabilities)({getResponseHeader:f,isHttp:a.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=h||this._contentLength,this._filename=(0,e.extractFilenameFromHeader)(f)};this._request=null,"http:"===this._url.protocol?this._request=g.request(o(this._url,a.httpHeaders),b):this._request=h.request(o(this._url,a.httpHeaders),b),this._request.on("error",a=>{this._storedError=a,this._headersCapability.reject(a)}),this._request.end()}}class q extends n{constructor(a,b,c){for(let e in super(a),this._httpHeaders={},a.httpHeaders){let f=a.httpHeaders[e];void 0!==f&&(this._httpHeaders[e]=f)}this._httpHeaders.Range=`bytes=${b}-${c-1}`;let i=a=>{if(404===a.statusCode){let b=new d.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=b;return}this._setReadableStream(a)};this._request=null,"http:"===this._url.protocol?this._request=g.request(o(this._url,this._httpHeaders),i):this._request=h.request(o(this._url,this._httpHeaders),i),this._request.on("error",a=>{this._storedError=a}),this._request.end()}}class r extends m{constructor(a){super(a);let b=decodeURIComponent(this._url.path);j.test(this._url.href)&&(b=b.replace(/^\//,"")),f.lstat(b,(a,c)=>{if(a){"ENOENT"===a.code&&(a=new d.MissingPDFException(`Missing PDF "${b}".`)),this._storedError=a,this._headersCapability.reject(a);return}this._contentLength=c.size,this._setReadableStream(f.createReadStream(b)),this._headersCapability.resolve()})}}class s extends n{constructor(a,b,c){super(a);let d=decodeURIComponent(this._url.path);j.test(this._url.href)&&(d=d.replace(/^\//,"")),this._setReadableStream(f.createReadStream(d,{start:b,end:c-1}))}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.createResponseStatusError=h,b.extractFilenameFromHeader=g,b.validateRangeRequestCapabilities=f,b.validateResponseStatus=i;var d=c(1),e=c(21);function f({getResponseHeader:a,isHttp:b,rangeChunkSize:c,disableRange:e}){(0,d.assert)(c>0,"Range chunk size must be larger than zero");let f={allowRangeRequests:!1,suggestedLength:void 0},g=parseInt(a("Content-Length"),10);if(!Number.isInteger(g)||(f.suggestedLength=g,g<=2*c||e||!b||"bytes"!==a("Accept-Ranges")))return f;let h=a("Content-Encoding")||"identity";return"identity"!==h||(f.allowRangeRequests=!0),f}function g(a){let b=a("Content-Disposition");if(b){let c=(0,e.getFilenameFromContentDispositionHeader)(b);if(c.includes("%"))try{c=decodeURIComponent(c)}catch(d){}if(/\.pdf$/i.test(c))return c}return null}function h(a,b){return 404===a||0===a&&b.startsWith("file:")?new d.MissingPDFException('Missing PDF "'+b+'".'):new d.UnexpectedResponseException("Unexpected server response ("+a+') while retrieving PDF "'+b+'".',a)}function i(a){return 200===a||206===a}},function(a,b,c){"use strict";function d(a){let b=!0,c=g("filename\\*","i").exec(a);if(c){let d=k(c=c[1]);return d=unescape(d),d=l(d),d=m(d),i(d)}if(c=j(a)){let e=m(c);return i(e)}if(c=g("filename","i").exec(a)){let f=k(c=c[1]);return f=m(f),i(f)}function g(a,b){return RegExp("(?:^|;)\\s*"+a+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function h(a,c){if(a){if(!/^[\x00-\xFF]+$/.test(c))return c;try{let d=new TextDecoder(a,{fatal:!0}),e=Array.from(c,function(a){return 255&a.charCodeAt(0)});c=d.decode(new Uint8Array(e)),b=!1}catch(f){if(/^utf-?8$/i.test(a))try{c=decodeURIComponent(escape(c)),b=!1}catch(g){}}}return c}function i(a){return b&&/[\x80-\xff]/.test(a)&&(a=h("utf-8",a),b&&(a=h("iso-8859-1",a))),a}function j(a){let b=[],c,d=g("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(c=d.exec(a));){let[,e,f,h]=c;if((e=parseInt(e,10))in b){if(0===e)break;continue}b[e]=[f,h]}let i=[];for(let j=0;j<b.length&&(j in b);++j){let[m,n]=b[j];n=k(n),m&&(n=unescape(n),0===j&&(n=l(n))),i.push(n)}return i.join("")}function k(a){if(a.startsWith('"')){let b=a.slice(1).split('\\"');for(let c=0;c<b.length;++c){let d=b[c].indexOf('"');-1!==d&&(b[c]=b[c].slice(0,d),b.length=c+1),b[c]=b[c].replace(/\\(.)/g,"$1")}a=b.join('"')}return a}function l(a){let b=a.indexOf("'");if(-1===b)return a;let c=a.slice(0,b),d=a.slice(b+1),e=d.replace(/^[^']*'/,"");return h(c,e)}function m(a){return!a.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(a)?a:a.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(a,b,c,d){if("q"===c||"Q"===c)return d=(d=d.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(a,b){return String.fromCharCode(parseInt(b,16))}),h(b,d);try{d=atob(d)}catch(e){}return h(b,d)})}return""}Object.defineProperty(b,"__esModule",{value:!0}),b.getFilenameFromContentDispositionHeader=d},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PDFNetworkStream=void 0;var d=c(1),e=c(20);let f=200,g=206;function h(a){let b=a.response;if("string"!=typeof b)return b;let c=(0,d.stringToBytes)(b);return c.buffer}class i{constructor(a,b){this.url=a,b=b||{},this.isHttp=/^https?:/i.test(a),this.httpHeaders=this.isHttp&&b.httpHeaders||{},this.withCredentials=b.withCredentials||!1,this.getXhr=b.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(a,b,c){let d={begin:a,end:b};for(let e in c)d[e]=c[e];return this.request(d)}requestFull(a){return this.request(a)}request(a){let b=this.getXhr(),c=this.currXhrId++,d=this.pendingRequests[c]={xhr:b};for(let e in b.open("GET",this.url),b.withCredentials=this.withCredentials,this.httpHeaders){let h=this.httpHeaders[e];void 0!==h&&b.setRequestHeader(e,h)}return this.isHttp&&"begin"in a&&"end"in a?(b.setRequestHeader("Range",`bytes=${a.begin}-${a.end-1}`),d.expectedStatus=g):d.expectedStatus=f,b.responseType="arraybuffer",a.onError&&(b.onerror=function(c){a.onError(b.status)}),b.onreadystatechange=this.onStateChange.bind(this,c),b.onprogress=this.onProgress.bind(this,c),d.onHeadersReceived=a.onHeadersReceived,d.onDone=a.onDone,d.onError=a.onError,d.onProgress=a.onProgress,b.send(null),c}onProgress(a,b){let c=this.pendingRequests[a];c&&c.onProgress&&c.onProgress(b)}onStateChange(a,b){let c=this.pendingRequests[a];if(!c)return;let d=c.xhr;if(d.readyState>=2&&c.onHeadersReceived&&(c.onHeadersReceived(),delete c.onHeadersReceived),4!==d.readyState||!(a in this.pendingRequests))return;if(delete this.pendingRequests[a],0===d.status&&this.isHttp){c.onError&&c.onError(d.status);return}let e=d.status||f,i=e===f&&c.expectedStatus===g;if(!i&&e!==c.expectedStatus){c.onError&&c.onError(d.status);return}let j=h(d);if(e===g){let k=d.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(k);c.onDone({begin:parseInt(l[1],10),chunk:j})}else j?c.onDone({begin:0,chunk:j}):c.onError&&c.onError(d.status)}hasPendingRequests(){for(let a in this.pendingRequests)return!0;return!1}getRequestXhr(a){return this.pendingRequests[a].xhr}isPendingRequest(a){return a in this.pendingRequests}abortAllRequests(){for(let a in this.pendingRequests)this.abortRequest(0|a)}abortRequest(a){let b=this.pendingRequests[a].xhr;delete this.pendingRequests[a],b.abort()}}class j{constructor(a){this._source=a,this._manager=new i(a.url,{httpHeaders:a.httpHeaders,withCredentials:a.withCredentials}),this._rangeChunkSize=a.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(a){let b=this._rangeRequestReaders.indexOf(a);b>=0&&this._rangeRequestReaders.splice(b,1)}getFullReader(){return(0,d.assert)(!this._fullRequestReader),this._fullRequestReader=new k(this._manager,this._source),this._fullRequestReader}getRangeReader(a,b){let c=new l(this._manager,a,b);return c.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(c),c}cancelAllRequests(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);let b=this._rangeRequestReaders.slice(0);b.forEach(function(b){b.cancel(a)})}}b.PDFNetworkStream=j;class k{constructor(a,b){this._manager=a;let c={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=b.url,this._fullRequestId=a.requestFull(c),this._headersReceivedCapability=(0,d.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._contentLength=b.length,this._rangeChunkSize=b.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let a=this._fullRequestId,b=this._manager.getRequestXhr(a),c=a=>b.getResponseHeader(a),{allowRangeRequests:d,suggestedLength:f}=(0,e.validateRangeRequestCapabilities)({getResponseHeader:c,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});d&&(this._isRangeSupported=!0),this._contentLength=f||this._contentLength,this._filename=(0,e.extractFilenameFromHeader)(c),this._isRangeSupported&&this._manager.abortRequest(a),this._headersReceivedCapability.resolve()}_onDone(a){if(a){if(this._requests.length>0){let b=this._requests.shift();b.resolve({value:a.chunk,done:!1})}else this._cachedChunks.push(a.chunk)}this._done=!0,!(this._cachedChunks.length>0)&&(this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[])}_onError(a){let b=this._url,c=(0,e.createResponseStatusError)(a,b);this._storedError=c,this._headersReceivedCapability.reject(c),this._requests.forEach(function(a){a.reject(c)}),this._requests=[],this._cachedChunks=[]}_onProgress(a){this.onProgress&&this.onProgress({loaded:a.loaded,total:a.lengthComputable?a.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){let a=this._cachedChunks.shift();return{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};let b=(0,d.createPromiseCapability)();return this._requests.push(b),b.promise}cancel(a){this._done=!0,this._headersReceivedCapability.reject(a),this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class l{constructor(a,b,c){this._manager=a;let d={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=a.requestRange(b,c,d),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}_close(){this.onClosed&&this.onClosed(this)}_onDone(a){let b=a.chunk;if(this._requests.length>0){let c=this._requests.shift();c.resolve({value:b,done:!1})}else this._queuedChunk=b;this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}_onProgress(a){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:a.loaded})}get isStreamingSupported(){return!1}async read(){if(null!==this._queuedChunk){let a=this._queuedChunk;return this._queuedChunk=null,{value:a,done:!1}}if(this._done)return{value:void 0,done:!0};let b=(0,d.createPromiseCapability)();return this._requests.push(b),b.promise}cancel(a){this._done=!0,this._requests.forEach(function(a){a.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.PDFFetchStream=void 0;var d=c(1),e=c(20);function f(a,b,c){return{method:"GET",headers:a,signal:c&&c.signal,mode:"cors",credentials:b?"include":"same-origin",redirect:"follow"}}function g(a){let b=new Headers;for(let c in a){let d=a[c];void 0!==d&&b.append(c,d)}return b}class h{constructor(a){this.source=a,this.isHttp=/^https?:/i.test(a.url),this.httpHeaders=this.isHttp&&a.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?this._fullRequestReader._loaded:0}getFullReader(){return(0,d.assert)(!this._fullRequestReader),this._fullRequestReader=new i(this),this._fullRequestReader}getRangeReader(a,b){if(b<=this._progressiveDataLength)return null;let c=new j(this,a,b);return this._rangeRequestReaders.push(c),c}cancelAllRequests(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);let b=this._rangeRequestReaders.slice(0);b.forEach(function(b){b.cancel(a)})}}b.PDFFetchStream=h;class i{constructor(a){this._stream=a,this._reader=null,this._loaded=0,this._filename=null;let b=a.source;this._withCredentials=b.withCredentials||!1,this._contentLength=b.length,this._headersCapability=(0,d.createPromiseCapability)(),this._disableRange=b.disableRange||!1,this._rangeChunkSize=b.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!b.disableStream,this._isRangeSupported=!b.disableRange,this._headers=g(this._stream.httpHeaders);let c=b.url;fetch(c,f(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!(0,e.validateResponseStatus)(a.status))throw(0,e.createResponseStatusError)(a.status,c);this._reader=a.body.getReader(),this._headersCapability.resolve();let b=b=>a.headers.get(b),{allowRangeRequests:f,suggestedLength:g}=(0,e.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=f,this._contentLength=g||this._contentLength,this._filename=(0,e.extractFilenameFromHeader)(b),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new d.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;let{value:a,done:b}=await this._reader.read();if(b)return{value:a,done:b};this._loaded+=a.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength});let c=new Uint8Array(a).buffer;return{value:c,done:!1}}cancel(a){this._reader&&this._reader.cancel(a),this._abortController&&this._abortController.abort()}}class j{constructor(a,b,c){this._stream=a,this._reader=null,this._loaded=0;let h=a.source;this._withCredentials=h.withCredentials||!1,this._readCapability=(0,d.createPromiseCapability)(),this._isStreamingSupported=!h.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=g(this._stream.httpHeaders),this._headers.append("Range",`bytes=${b}-${c-1}`);let i=h.url;fetch(i,f(this._headers,this._withCredentials,this._abortController)).then(a=>{if(!(0,e.validateResponseStatus)(a.status))throw(0,e.createResponseStatusError)(a.status,i);this._readCapability.resolve(),this._reader=a.body.getReader()}),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;let{value:a,done:b}=await this._reader.read();if(b)return{value:a,done:b};this._loaded+=a.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded});let c=new Uint8Array(a).buffer;return{value:c,done:!1}}cancel(a){this._reader&&this._reader.cancel(a),this._abortController&&this._abortController.abort()}}}])})}}])